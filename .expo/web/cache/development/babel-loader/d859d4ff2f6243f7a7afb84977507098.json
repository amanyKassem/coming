{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/Home.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Container, Content, Icon, Input } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport Swiper from 'react-native-swiper';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getBanners, getCategories, getCartCount } from \"../actions\";\nimport Header from \"../common/Header\";\nimport COLORS from \"../consts/colors\";\nvar height = Dimensions.get('window').height;\nvar isIOS = Platform.OS === 'ios';\n\nfunction Home(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var token = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data.token : null;\n  });\n  var banners = useSelector(function (state) {\n    return state.banners.banners;\n  });\n  var bannersLoader = useSelector(function (state) {\n    return state.banners.loader;\n  });\n  var cartCount = useSelector(function (state) {\n    return state.cart.cartCount;\n  });\n  var categories = useSelector(function (state) {\n    return state.categories.categories;\n  });\n  var categoriesExtra = useSelector(function (state) {\n    return state.categories.categoriesExtra;\n  });\n  var categoriesLoader = useSelector(function (state) {\n    return state.categories.loader;\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      screenLoader = _useState2[0],\n      setScreenLoader = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  function fetchData() {\n    setScreenLoader(true);\n    dispatch(getBanners(lang)).then(function () {\n      return setScreenLoader(false);\n    });\n    dispatch(getCategories(lang)).then(function () {\n      return setScreenLoader(false);\n    });\n    dispatch(getCartCount(lang, token));\n  }\n\n  useEffect(function () {\n    fetchData();\n    var unsubscribe = navigation.addListener('focus', function () {\n      fetchData();\n    });\n    return unsubscribe;\n  }, [navigation, bannersLoader, categoriesLoader]);\n\n  function renderLoader() {\n    if (screenLoader) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  function Item(_ref2) {\n    var title = _ref2.title,\n        image = _ref2.image,\n        type = _ref2.type,\n        id = _ref2.id,\n        index = _ref2.index;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('category', {\n          title: title,\n          type: type,\n          category_id: id\n        });\n      },\n      style: [styles.height_130, styles.marginBottom_10, styles.Radius_5, styles.marginHorizontal_5, {\n        flex: 1,\n        overflow: 'hidden'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: [styles.flexCenter, styles.overlay_black, styles.Width_100, {\n        position: 'absolute',\n        bottom: 0,\n        zIndex: 1,\n        padding: 7\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.textBold, styles.text_White, styles.textSize_13, styles.textCenter],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, title)), React.createElement(Image, {\n      source: {\n        uri: image\n      },\n      style: [styles.Width_100, styles.heightFull],\n      resizeMode: 'cover',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return React.createElement(Container, {\n    style: [styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth, styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: i18n.t('home'),\n    cartCount: cartCount && cartCount.count ? cartCount.count : '0',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: [styles.bgFullWidth, styles.bg_White, styles.Width_100, styles.marginTop_55, {\n      paddingBottom: 35\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: [styles.marginVertical_20, styles.paddingHorizontal_20, {\n      top: -70\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 20\n    }\n  }, banners && banners.length > 0 ? React.createElement(Swiper, {\n    key: 2,\n    dotStyle: styles.eventdoteStyle,\n    activeDotStyle: styles.eventactiveDot,\n    containerStyle: styles.eventswiper,\n    showsButtons: false,\n    autoplay: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 32\n    }\n  }, banners.map(function (banner, i) {\n    return React.createElement(TouchableOpacity, {\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 48\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: banner.image\n      },\n      style: styles.swiperImg,\n      resizeMode: 'cover',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 52\n      }\n    }));\n  })) : null), React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textSize_15, styles.marginBottom_15, styles.marginHorizontal_15, styles.alignStart, {\n      top: -30\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, i18n.t('categories')), React.createElement(View, {\n    style: {\n      top: -30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 20\n    }\n  }, React.createElement(FlatList, {\n    data: categories,\n    horizontal: false,\n    numColumns: 2,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Item, {\n        title: item.name,\n        image: item.img,\n        type: item.type,\n        id: item.id,\n        index: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 61\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    columnWrapperStyle: [styles.directionRowSpace, styles.paddingHorizontal_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 24\n    }\n  }), categoriesExtra && categoriesExtra.open_section ? React.createElement(View, {\n    style: [styles.paddingHorizontal_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 32\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('fastingBreakfast');\n    },\n    style: [styles.height_130, styles.marginBottom_10, styles.Radius_5, styles.marginHorizontal_5, {\n      flex: 1,\n      overflow: 'hidden'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 36\n    }\n  }, React.createElement(View, {\n    style: [styles.flexCenter, styles.overlay_black, styles.Width_100, {\n      position: 'absolute',\n      bottom: 0,\n      zIndex: 1,\n      padding: 7\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 40\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_White, styles.textSize_13, styles.textCenter],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 44\n    }\n  }, i18n.t('fastingBreakfast'))), React.createElement(Image, {\n    source: require(\"../../assets/images/banner4.png\"),\n    style: [styles.Width_100, styles.heightFull],\n    resizeMode: 'cover',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 40\n    }\n  }))) : null))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/Home.js"],"names":["React","useEffect","useRef","useState","Container","Content","Icon","Input","styles","i18n","Swiper","useDispatch","useSelector","getBanners","getCategories","getCartCount","Header","COLORS","height","Dimensions","get","isIOS","Platform","OS","Home","navigation","route","lang","state","token","auth","user","data","banners","bannersLoader","loader","cartCount","cart","categories","categoriesExtra","categoriesLoader","screenLoader","setScreenLoader","dispatch","fetchData","then","unsubscribe","addListener","renderLoader","loading","flexCenter","mstarda","alignSelf","Item","title","image","type","id","index","navigate","category_id","height_130","marginBottom_10","Radius_5","marginHorizontal_5","flex","overflow","overlay_black","Width_100","position","bottom","zIndex","padding","textBold","text_White","textSize_13","textCenter","uri","heightFull","bg_gray","bgFullWidth","t","count","bg_White","marginTop_55","paddingBottom","marginVertical_20","paddingHorizontal_20","top","length","eventdoteStyle","eventactiveDot","eventswiper","map","banner","i","swiperImg","text_gray","textSize_15","marginBottom_15","marginHorizontal_15","alignStart","item","name","img","directionRowSpace","paddingHorizontal_15","open_section","require"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {View, Text, Image, TouchableOpacity, Dimensions, FlatList, ActivityIndicator} from \"react-native\";\nimport {Container, Content, Icon, Input} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport Swiper from 'react-native-swiper';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getBanners , getCategories , getCartCount} from '../actions';\nimport Header from '../common/Header';\nimport COLORS from \"../consts/colors\";\n\nconst height = Dimensions.get('window').height;\nconst isIOS = Platform.OS === 'ios';\n\nfunction Home({navigation,route}) {\n\n\n    const lang = useSelector(state => state.lang.lang);\n    const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);\n    const banners = useSelector(state => state.banners.banners);\n    const bannersLoader = useSelector(state => state.banners.loader);\n    const cartCount = useSelector(state => state.cart.cartCount);\n    const categories = useSelector(state => state.categories.categories);\n    const categoriesExtra = useSelector(state => state.categories.categoriesExtra);\n    const categoriesLoader = useSelector(state => state.categories.loader);\n    const [screenLoader , setScreenLoader ] = useState(true);\n\n    const dispatch = useDispatch();\n\n    function fetchData(){\n        setScreenLoader(true);\n        dispatch(getBanners(lang)).then(() => setScreenLoader(false));\n        dispatch(getCategories(lang)).then(() => setScreenLoader(false));\n        dispatch(getCartCount(lang , token));\n    }\n    useEffect(() => {\n        fetchData();\n        const unsubscribe = navigation.addListener('focus', () => {\n            fetchData();\n        });\n\n        return unsubscribe;\n    }, [navigation , bannersLoader , categoriesLoader]);\n\n    function renderLoader(){\n        if (screenLoader){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    function Item({ title , image , type , id , index }) {\n        return (\n            <TouchableOpacity onPress={() => navigation.navigate('category' , {title , type , category_id:id})} style={[styles.height_130,styles.marginBottom_10 , styles.Radius_5 , styles.marginHorizontal_5 , {flex:1 , overflow:'hidden'}]}>\n                <View style={[styles.flexCenter , styles.overlay_black , styles.Width_100 , {position:'absolute' , bottom :0,zIndex:1 , padding:7}]}>\n                    <Text style={[styles.textBold , styles.text_White , styles.textSize_13, styles.textCenter ]}>{title}</Text>\n                </View>\n                <Image source={{uri:image}} style={[styles.Width_100, styles.heightFull]} resizeMode={'cover'} />\n            </TouchableOpacity>\n        );\n    }\n\n    return (\n        <Container style={[styles.bg_gray]}>\n            { renderLoader() }\n            <Content contentContainerStyle={[styles.bgFullWidth , styles.bg_gray]}>\n\n                <Header navigation={navigation} title={ i18n.t('home') } cartCount={cartCount && cartCount.count ? cartCount.count : '0'}/>\n\n                <View style={[styles.bgFullWidth ,styles.bg_White, styles.Width_100 , styles.marginTop_55 , {paddingBottom:35}]}>\n\n                   <View style={[styles.marginVertical_20, styles.paddingHorizontal_20 , {top:-70}]}>\n\n                       {\n                           banners && (banners).length > 0?\n\n                               <Swiper key={2} dotStyle={styles.eventdoteStyle} activeDotStyle={styles.eventactiveDot}\n                                       containerStyle={styles.eventswiper} showsButtons={false} autoplay={true}>\n\n\n                                   {\n                                       banners.map((banner, i) => {\n                                           return (\n                                               <TouchableOpacity key={i}>\n                                                   <Image source={{uri:banner.image}} style={styles.swiperImg} resizeMode={'cover'}/>\n                                               </TouchableOpacity>\n                                           )\n                                       })\n                                   }\n\n\n                               </Swiper>\n\n                               :\n                               null\n\n                       }\n\n\n                   </View>\n\n                    <Text style={[styles.textBold , styles.text_gray , styles.textSize_15, styles.marginBottom_15 , styles.marginHorizontal_15 , styles.alignStart , {top:-30}]}>{ i18n.t('categories') }</Text>\n\n\n                   <View style={{top:-30}}>\n                       <FlatList\n                           data={categories}\n                           horizontal={false}\n                           numColumns={2}\n                           showsVerticalScrollIndicator={false}\n                           renderItem={({ item , index}) => <Item\n                               title={item.name}\n                               image={item.img}\n                               type={item.type}\n                               id={item.id}\n                               index={index}\n                           />}\n                           keyExtractor={item => item.id}\n                           columnWrapperStyle={[styles.directionRowSpace , styles.paddingHorizontal_15]}\n                       />\n\n                       {\n                           categoriesExtra && categoriesExtra.open_section?\n                               <View style={[styles.paddingHorizontal_15]}>\n                                   <TouchableOpacity onPress={() => navigation.navigate('fastingBreakfast')} style={[styles.height_130,styles.marginBottom_10 , styles.Radius_5 , styles.marginHorizontal_5 , {flex:1 , overflow:'hidden'}]}>\n                                       <View style={[styles.flexCenter , styles.overlay_black , styles.Width_100 , {position:'absolute' , bottom :0,zIndex:1 , padding:7}]}>\n                                           <Text style={[styles.textBold , styles.text_White , styles.textSize_13, styles.textCenter ]}>{i18n.t('fastingBreakfast')}</Text>\n                                       </View>\n                                       <Image source={require(\"../../assets/images/banner4.png\")} style={[styles.Width_100, styles.heightFull]} resizeMode={'cover'} />\n                                   </TouchableOpacity>\n                               </View>\n                               :\n                               null\n                       }\n\n\n                   </View>\n\n                </View>\n\n            </Content>\n        </Container>\n    );\n}\n\nexport default Home;\n\n\n"]},"metadata":{},"sourceType":"module"}