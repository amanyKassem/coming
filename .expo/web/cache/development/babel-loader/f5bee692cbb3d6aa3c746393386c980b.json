{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/CategoryDetails.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Container, Content, Form, Icon, Input, Item, Label, Textarea } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getProviderDetails, getProviderProducts, setFavourite } from \"../actions\";\nimport Header from \"../common/Header\";\nimport COLORS from \"../consts/colors\";\nimport StarRating from \"react-native-star-rating\";\nvar height = Dimensions.get('window').height;\nvar isIOS = Platform.OS === 'ios';\nvar IS_IPHONE_X = (height === 812 || height === 896) && Platform.OS === 'ios';\n\nfunction CategoryDetails(_ref) {\n  var _route$params2,\n      _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var _route$params = route.params,\n      type = _route$params.type,\n      id = _route$params.id;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeType = _useState2[0],\n      setActiveType = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      details = _useState4[0],\n      setDetails = _useState4[1];\n\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var token = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data.token : null;\n  });\n  var providerDetails = useSelector(function (state) {\n    return state.categories.providerDetails;\n  });\n  var providerDetailsLoader = useSelector(function (state) {\n    return state.categories.loader;\n  });\n  var providerProducts = useSelector(function (state) {\n    return state.providerProducts.providerProducts;\n  });\n  var providerProductsLoader = useSelector(function (state) {\n    return state.providerProducts.loader;\n  });\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      screenLoader = _useState6[0],\n      setScreenLoader = _useState6[1];\n\n  var dispatch = useDispatch();\n\n  function fetchData() {\n    setDetails('');\n    setScreenLoader(true);\n    dispatch(getProviderDetails(lang, id));\n    dispatch(getProviderProducts(lang, null, null, id));\n  }\n\n  useEffect(function () {\n    fetchData();\n    var unsubscribe = navigation.addListener('focus', function () {\n      fetchData();\n    });\n    return unsubscribe;\n  }, [navigation, providerDetailsLoader, (_route$params2 = route.params) == null ? void 0 : _route$params2.id]);\n  useEffect(function () {\n    setScreenLoader(false);\n  }, [providerDetails, providerProducts]);\n\n  function _onToggleFavorite(id) {\n    dispatch(setFavourite(lang, id, token)).then(function () {\n      return dispatch(getProviderDetails(lang, id));\n    });\n  }\n\n  function renderLoader() {\n    if (screenLoader) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  function Item(_ref2) {\n    var name = _ref2.name,\n        desc = _ref2.desc,\n        image = _ref2.image,\n        price = _ref2.price,\n        price_discount = _ref2.price_discount,\n        id = _ref2.id,\n        index = _ref2.index;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('productDetails', {\n          pathName: 'categoryDetails',\n          id: id,\n          type: type\n        });\n      },\n      style: [styles.bg_light_gray, styles.marginBottom_10, styles.directionRow, styles.Radius_5, {\n        flex: 1,\n        padding: 10\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: image\n      },\n      style: [styles.icon70, styles.Radius_7],\n      resizeMode: 'cover',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }), React.createElement(View, {\n      style: [{\n        marginLeft: 15,\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: [styles.directionRowSpace, styles.marginBottom_5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_14, {\n        flex: 1,\n        marginRight: 5\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, name), React.createElement(View, {\n      style: [styles.directionRow],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, price_discount != price ? React.createElement(Text, {\n      style: [styles.textRegular, styles.text_mstarda, price_discount == price ? styles.linethrough : '', styles.textSize_13, {\n        marginLeft: 5\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, price_discount, \" \", i18n.t('RS')) : null, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_13, price_discount != price ? styles.linethrough : '', {\n        marginLeft: 5\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, price, \" \", i18n.t('RS')))), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_midGray, styles.textSize_12, styles.alignStart, styles.writingDir, {\n        lineHeight: 18\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, desc)));\n  }\n\n  function changeMenu(id) {\n    setActiveType(id);\n    setScreenLoader(true);\n    dispatch(getProviderProducts(lang, id, null, providerDetails.id));\n  }\n\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      setActiveType(null);\n    });\n    return unsubscribe;\n  }, [navigation, route]);\n\n  function renderNoData() {\n    if (providerProducts && providerProducts.length <= 0) {\n      return React.createElement(View, {\n        style: [styles.directionColumnCenter, styles.Width_100, styles.heightFull],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/note.png\"),\n        resizeMode: 'contain',\n        style: {\n          alignSelf: 'center',\n          width: 200,\n          height: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return null;\n  }\n\n  return React.createElement(Container, {\n    style: [styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, renderLoader(), providerDetails ? React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth],\n    scrollEnabled: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, React.createElement(ImageBackground, {\n    source: {\n      uri: providerDetails.cover\n    },\n    resizeMode: 'cover',\n    style: [styles.Width_100, activeType != '0' ? styles.height_340 : styles.height_300],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: [styles.overlay_black, styles.heightFull, styles.Width_100],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: i18n.t('details'),\n    onToggleFavorite: function onToggleFavorite() {\n      return _onToggleFavorite(id);\n    },\n    likeIcon: providerDetails.is_favourite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }), React.createElement(View, {\n    style: [styles.directionColumnCenter, styles.marginTop_10],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: [styles.icon70, styles.Radius_50, styles.overlay_white, styles.marginBottom_7, {\n      padding: 5\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  }, React.createElement(Image, {\n    source: {\n      uri: providerDetails.avatar\n    },\n    style: [styles.Width_100, styles.heightFull, styles.Radius_50],\n    resizeMode: \"cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 41\n    }\n  })), React.createElement(Text, {\n    style: [styles.textBold, styles.text_White, styles.textSize_14, styles.textCenter, styles.marginBottom_5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, providerDetails.name), React.createElement(View, {\n    style: [styles.directionRow, styles.marginTop_5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }, React.createElement(Icon, {\n    type: 'MaterialIcons',\n    name: 'location-on',\n    style: [styles.textSize_14, styles.text_mstarda, {\n      marginRight: 5\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 41\n    }\n  }), React.createElement(Text, {\n    style: [styles.textRegular, styles.text_White, styles.textSize_13],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 41\n    }\n  }, providerDetails.address)), React.createElement(View, {\n    style: [styles.directionRow, styles.marginTop_10],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 37\n    }\n  }, React.createElement(StarRating, {\n    disabled: false,\n    maxStars: 5,\n    rating: providerDetails.rate,\n    fullStarColor: '#fec104',\n    emptyStarColor: '#fff',\n    starSize: 12,\n    starStyle: {\n      marginHorizontal: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 41\n    }\n  }), React.createElement(Text, {\n    style: [styles.textRegular, styles.text_White, styles.textSize_12, {\n      marginLeft: 10\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 41\n    }\n  }, i18n.t('away'), \" \", providerDetails.distance)), activeType != '0' && token ? React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setActiveType('0');\n    },\n    style: [styles.mstrdaBtn, styles.Width_50, styles.marginVertical_20],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 45\n    }\n  }, React.createElement(Text, {\n    style: [styles.textRegular, styles.text_White, styles.textSize_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 49\n    }\n  }, i18n.t('addSpecialOrder'))) : null))), React.createElement(View, {\n    style: [styles.bgFullWidth, styles.bg_White, styles.Width_100, {\n      overflow: 'hidden'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: [styles.mainScroll],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, React.createElement(ScrollView, {\n    style: [styles.scrollView],\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return changeMenu(null);\n    },\n    style: styles.scrollTouch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 37\n    }\n  }, React.createElement(Text, {\n    style: [styles.scrollText, {\n      color: activeType === null ? COLORS.mstarda : COLORS.black\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 41\n    }\n  }, i18n.t('all')), React.createElement(View, {\n    style: [styles.triangle, {\n      borderBottomColor: activeType === null ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 41\n    }\n  })), providerDetails.menus && providerDetails.menus.length > 0 ? providerDetails.menus.map(function (menu, i) {\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return changeMenu(menu.id);\n      },\n      style: styles.scrollTouch,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 53\n      }\n    }, React.createElement(Text, {\n      style: [styles.scrollText, {\n        color: activeType === menu.id ? COLORS.mstarda : COLORS.black\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 57\n      }\n    }, menu.name), React.createElement(View, {\n      style: [styles.triangle, {\n        borderBottomColor: activeType === menu.id ? COLORS.mstarda : 'transparent'\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 57\n      }\n    }));\n  }) : null)), activeType != '0' ? React.createElement(View, {\n    style: [styles.marginTop_10, styles.paddingHorizontal_20, {\n      height: IS_IPHONE_X ? height - 470 : height - 400\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 37\n    }\n  }, providerProducts && providerProducts.length > 0 ? React.createElement(FlatList, {\n    data: providerProducts,\n    horizontal: false,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Item, {\n        id: item.id,\n        name: item.name,\n        desc: item.details,\n        image: item.image,\n        price: item.price,\n        price_discount: item.price_discount,\n        index: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 86\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 49\n    }\n  }) : renderNoData()) : React.createElement(View, {\n    style: [styles.marginTop_10, styles.paddingHorizontal_20],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label, styles.text_black],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 41\n    }\n  }, i18n.t('specialOrderDet')), React.createElement(Textarea, {\n    style: [styles.input, styles.height_120, styles.paddingVertical_10, styles.bg_light_gray, {\n      borderTopRightRadius: 10,\n      borderTopLeftRadius: 10,\n      borderRadius: 10,\n      lineHeight: 22\n    }],\n    onChangeText: function onChangeText(details) {\n      return setDetails(details);\n    },\n    value: details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 41\n    }\n  }), details ? React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('orderData', {\n        type: type,\n        details: details,\n        provider_id: id\n      });\n    },\n    style: [styles.mstrdaBtn, styles.Width_100, styles.marginVertical_20],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 49\n    }\n  }, React.createElement(Text, {\n    style: [styles.textRegular, styles.text_White, styles.textSize_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 53\n    }\n  }, i18n.t('confirm'))) : React.createElement(View, {\n    style: [styles.mstrdaBtn, styles.Width_100, styles.marginVertical_20, {\n      backgroundColor: '#ddd'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 49\n    }\n  }, React.createElement(Text, {\n    style: [styles.textRegular, styles.text_White, styles.textSize_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 53\n    }\n  }, i18n.t('confirm')))))) : null);\n}\n\nexport default CategoryDetails;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/CategoryDetails.js"],"names":["React","useEffect","useRef","useState","Container","Content","Form","Icon","Input","Item","Label","Textarea","styles","i18n","useDispatch","useSelector","getProviderDetails","getProviderProducts","setFavourite","Header","COLORS","StarRating","height","Dimensions","get","isIOS","Platform","OS","IS_IPHONE_X","CategoryDetails","navigation","route","params","type","id","activeType","setActiveType","details","setDetails","lang","state","token","auth","user","data","providerDetails","categories","providerDetailsLoader","loader","providerProducts","providerProductsLoader","screenLoader","setScreenLoader","dispatch","fetchData","unsubscribe","addListener","onToggleFavorite","then","renderLoader","loading","flexCenter","mstarda","alignSelf","name","desc","image","price","price_discount","index","navigate","pathName","bg_light_gray","marginBottom_10","directionRow","Radius_5","flex","padding","uri","icon70","Radius_7","marginLeft","directionRowSpace","marginBottom_5","textRegular","text_gray","textSize_14","marginRight","text_mstarda","linethrough","textSize_13","t","text_midGray","textSize_12","alignStart","writingDir","lineHeight","changeMenu","renderNoData","length","directionColumnCenter","Width_100","heightFull","require","width","bg_gray","bgFullWidth","cover","height_340","height_300","overlay_black","is_favourite","marginTop_10","Radius_50","overlay_white","marginBottom_7","avatar","textBold","text_White","textCenter","marginTop_5","address","rate","marginHorizontal","distance","mstrdaBtn","Width_50","marginVertical_20","textSize_15","bg_White","overflow","mainScroll","scrollView","scrollTouch","scrollText","color","black","triangle","borderBottomColor","menus","map","menu","i","paddingHorizontal_20","item","label","text_black","input","height_120","paddingVertical_10","borderTopRightRadius","borderTopLeftRadius","borderRadius","provider_id","backgroundColor"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity,\n    Dimensions,\n    ScrollView,\n    I18nManager,\n    ImageBackground,\n    FlatList, ActivityIndicator\n} from \"react-native\";\nimport {Container, Content, Form, Icon, Input, Item, Label, Textarea} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getProviderDetails, getProviderProducts, setFavourite} from '../actions';\nimport Header from '../common/Header';\nimport COLORS from \"../consts/colors\";\nimport StarRating from \"react-native-star-rating\";\n\nconst height = Dimensions.get('window').height;\nconst isIOS = Platform.OS === 'ios';\n\nconst IS_IPHONE_X \t= (height === 812 || height === 896) && Platform.OS === 'ios';\n\nfunction CategoryDetails({navigation,route}) {\n\n    const {type , id} = route.params;\n    const [activeType, setActiveType] = useState(null);\n    const [details, setDetails] = useState('');\n\n    const lang = useSelector(state => state.lang.lang);\n    const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);\n    const providerDetails = useSelector(state => state.categories.providerDetails);\n    const providerDetailsLoader = useSelector(state => state.categories.loader);\n    const providerProducts = useSelector(state => state.providerProducts.providerProducts);\n    const providerProductsLoader = useSelector(state => state.providerProducts.loader);\n    const [screenLoader , setScreenLoader ] = useState(true);\n\n    const dispatch = useDispatch();\n\n    function fetchData(){\n        setDetails('');\n        setScreenLoader(true);\n        dispatch(getProviderDetails(lang , id));\n        dispatch(getProviderProducts(lang ,null , null , id));\n    }\n    useEffect(() => {\n        fetchData();\n        const unsubscribe = navigation.addListener('focus', () => {\n            fetchData();\n        });\n\n        return unsubscribe;\n    }, [navigation , providerDetailsLoader, route.params?.id]);\n\n    useEffect(() => {\n        setScreenLoader(false)\n    }, [providerDetails, providerProducts]);\n\n\n    function onToggleFavorite (id){\n        dispatch(setFavourite(lang , id, token)).then(() => dispatch(getProviderDetails(lang, id)))\n    }\n\n\n    function renderLoader(){\n        if (screenLoader){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    function Item({ name , desc , image , price , price_discount , id , index }) {\n        return (\n            <TouchableOpacity onPress={() => navigation.navigate('productDetails' , {pathName:'categoryDetails' , id , type})} style={[styles.bg_light_gray,styles.marginBottom_10 , styles.directionRow , styles.Radius_5 , {flex:1 , padding:10}]}>\n                <Image source={{uri:image}} style={[styles.icon70 , styles.Radius_7]} resizeMode={'cover'} />\n                <View style={[{marginLeft:15 , flex:1}]}>\n                    <View style={[styles.directionRowSpace , styles.marginBottom_5]}>\n                        <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14 , {flex:1 , marginRight:5}]}>{ name }</Text>\n                        <View style={[styles.directionRow]}>\n                            {\n                                price_discount != price ?\n                                    <Text style={[styles.textRegular , styles.text_mstarda , price_discount == price ? styles.linethrough : '' , styles.textSize_13 , {marginLeft:5}]}>{ price_discount } { i18n.t('RS') }</Text>\n                                    :\n                                    null\n                            }\n                            <Text style={[styles.textRegular , styles.text_gray , styles.textSize_13 ,  price_discount != price  ? styles.linethrough : '', {marginLeft:5}]}>{ price } { i18n.t('RS') }</Text>\n\n                        </View>\n                    </View>\n                    <Text style={[styles.textRegular , styles.text_midGray , styles.textSize_12 , styles.alignStart , styles.writingDir , {lineHeight:18}]}>{ desc }</Text>\n                </View>\n            </TouchableOpacity>\n        );\n    }\n\n    function changeMenu(id){\n        setActiveType(id);\n        setScreenLoader(true);\n        dispatch(getProviderProducts(lang ,id , null , providerDetails.id));\n    }\n\n    useEffect(() => {\n        const unsubscribe = navigation.addListener('focus', () => {\n            setActiveType(null)\n\n        })\n        return unsubscribe\n    }, [navigation, route])\n\n    function renderNoData() {\n        if (providerProducts && (providerProducts).length <= 0) {\n            return (\n                <View style={[styles.directionColumnCenter , styles.Width_100, styles.heightFull]}>\n                    <Image source={require('../../assets/images/note.png')} resizeMode={'contain'}\n                           style={{alignSelf: 'center', width: 200, height: 200}}/>\n                </View>\n            );\n        }\n\n        return null\n    }\n\n\n    return (\n        <Container style={[styles.bg_gray]}>\n            {renderLoader()}\n\n            {\n                providerDetails ?\n                    <Content contentContainerStyle={[styles.bgFullWidth]} scrollEnabled={false}>\n                        <ImageBackground source={{uri:providerDetails.cover}} resizeMode={'cover'} style={[styles.Width_100 ,  activeType != '0'? styles.height_340 : styles.height_300]}>\n                            <View style={[styles.overlay_black , styles.heightFull , styles.Width_100]}>\n\n                                <Header navigation={navigation} title={ i18n.t('details') }  onToggleFavorite={() => onToggleFavorite(id)} likeIcon={providerDetails.is_favourite} />\n\n                                <View style={[styles.directionColumnCenter , styles.marginTop_10]}>\n                                    <View style={[styles.icon70 , styles.Radius_50 , styles.overlay_white, styles.marginBottom_7 ,{ padding: 5 }]}>\n                                        <Image source={{uri:providerDetails.avatar}} style={[styles.Width_100 , styles.heightFull , styles.Radius_50]} resizeMode='cover' />\n                                    </View>\n                                    <Text style={[styles.textBold , styles.text_White , styles.textSize_14 , styles.textCenter , styles.marginBottom_5]}>{providerDetails.name}</Text>\n\n                                    <View style={[styles.directionRow , styles.marginTop_5]}>\n                                        <Icon type={'MaterialIcons'} name={'location-on'} style={[styles.textSize_14 , styles.text_mstarda , {marginRight:5}]} />\n                                        <Text style={[styles.textRegular , styles.text_White , styles.textSize_13]}>{providerDetails.address}</Text>\n                                    </View>\n\n                                    <View style={[styles.directionRow , styles.marginTop_10]}>\n                                        <StarRating\n                                            disabled={false}\n                                            maxStars={5}\n                                            rating={providerDetails.rate}\n                                            fullStarColor={'#fec104'}\n                                            emptyStarColor={'#fff'}\n                                            starSize={12}\n                                            starStyle={{ marginHorizontal: 2}}\n                                        />\n                                        <Text style={[styles.textRegular , styles.text_White , styles.textSize_12, {marginLeft:10}]}>{i18n.t('away')} {providerDetails.distance}</Text>\n                                    </View>\n                                    {\n                                        activeType != '0' && token?\n                                            <TouchableOpacity onPress={() => setActiveType('0')} style={[styles.mstrdaBtn , styles.Width_50 , styles.marginVertical_20]}>\n                                                <Text style={[styles.textRegular , styles.text_White , styles.textSize_15]}>{ i18n.t('addSpecialOrder') }</Text>\n                                            </TouchableOpacity>\n                                            :\n                                            null\n                                    }\n\n\n                                </View>\n                            </View>\n                        </ImageBackground>\n\n                        <View style={[styles.bgFullWidth ,styles.bg_White, styles.Width_100, {overflow:'hidden'}]}>\n                            <View style={[styles.mainScroll]}>\n\n                                <ScrollView style={[styles.scrollView]} horizontal={true} showsHorizontalScrollIndicator={false}>\n\n                                    <TouchableOpacity onPress={() => changeMenu(null)} style={styles.scrollTouch}>\n                                        <Text style={[styles.scrollText, { color: activeType === null ? COLORS.mstarda : COLORS.black }]}>{i18n.t('all')}</Text>\n                                        <View style={[styles.triangle, { borderBottomColor: activeType === null ? COLORS.mstarda : 'transparent' }]} />\n                                    </TouchableOpacity>\n\n                                    {\n                                        providerDetails.menus && ( providerDetails.menus).length > 0?\n\n                                            providerDetails.menus.map((menu, i) => {\n                                                return (\n                                                    <TouchableOpacity onPress={() => changeMenu(menu.id)} style={styles.scrollTouch}>\n                                                        <Text style={[styles.scrollText, { color: activeType === menu.id ? COLORS.mstarda : COLORS.black }]}>{menu.name}</Text>\n                                                        <View style={[styles.triangle, { borderBottomColor: activeType === menu.id ? COLORS.mstarda : 'transparent' }]} />\n                                                    </TouchableOpacity>\n                                                )\n                                            })\n                                            :\n                                           null\n                                    }\n\n                                </ScrollView>\n                            </View>\n\n                            {\n                                activeType != '0'?\n                                    <View style={[styles.marginTop_10 , styles.paddingHorizontal_20 , {height:IS_IPHONE_X ? height - 470 :  height - 400}]}>\n                                        {\n                                            providerProducts && (providerProducts).length > 0?\n                                                <FlatList\n                                                    data={providerProducts}\n                                                    horizontal={false}\n                                                    showsVerticalScrollIndicator={false}\n                                                    renderItem={({ item , index}) => <Item\n                                                        id={item.id}\n                                                        name={item.name}\n                                                        desc={item.details}\n                                                        image={item.image}\n                                                        price={item.price}\n                                                        price_discount={item.price_discount}\n                                                        index={index}\n                                                    />}\n                                                    keyExtractor={item => item.id}\n                                                />\n                                                :\n                                                renderNoData()\n                                        }\n\n                                    </View>\n                                    :\n                                    <View style={[styles.marginTop_10 , styles.paddingHorizontal_20]}>\n                                        <Label style={[styles.label , styles.text_black]}>{ i18n.t('specialOrderDet') }</Label>\n                                        <Textarea\n                                            style={[styles.input , styles.height_120 , styles.paddingVertical_10 , styles.bg_light_gray ,\n                                                {borderTopRightRadius :10 , borderTopLeftRadius :10 , borderRadius :10  , lineHeight:22}]}\n                                            onChangeText={(details) => setDetails(details)}\n                                            value={details}\n                                        />\n\n                                        {\n                                            details ?\n                                                <TouchableOpacity onPress={() => navigation.navigate('orderData' , {type , details , provider_id : id})} style={[styles.mstrdaBtn , styles.Width_100 , styles.marginVertical_20]}>\n                                                    <Text style={[styles.textRegular , styles.text_White , styles.textSize_15]}>{ i18n.t('confirm') }</Text>\n                                                </TouchableOpacity>\n                                                :\n                                                <View style={[styles.mstrdaBtn , styles.Width_100 , styles.marginVertical_20, {\n                                                    backgroundColor:'#ddd'\n                                                }]}>\n                                                    <Text style={[styles.textRegular , styles.text_White , styles.textSize_15]}>{ i18n.t('confirm') }</Text>\n                                                </View>\n                                        }\n\n\n                                    </View>\n                            }\n\n\n                        </View>\n\n                    </Content>\n                    :\n                    null\n            }\n\n        </Container>\n    );\n}\n\nexport default CategoryDetails;\n\n\n"]},"metadata":{},"sourceType":"module"}