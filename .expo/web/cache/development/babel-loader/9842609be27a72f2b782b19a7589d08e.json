{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/SpecialOrders.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Container, Content, Icon, Input } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSpecialOrders } from \"../actions\";\nimport Header from \"../common/Header\";\nimport COLORS from \"../consts/colors\";\nimport { useIsFocused } from \"@react-navigation/native\";\nvar height = Dimensions.get('window').height;\nvar isIOS = Platform.OS === 'ios';\n\nfunction SpecialOrders(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var _useState3 = useState('WAITING_OFFER'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var token = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data.token : null;\n  });\n  var specialOrders = useSelector(function (state) {\n    return state.orders.specialOrders;\n  });\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      screenLoader = _useState6[0],\n      setScreenLoader = _useState6[1];\n\n  var dispatch = useDispatch();\n  var isFocused = useIsFocused();\n\n  function fetchData() {\n    setScreenLoader(true);\n    dispatch(getSpecialOrders(lang, status, token, 'special')).then(function () {\n      return setScreenLoader(false);\n    });\n  }\n\n  useEffect(function () {\n    if (isFocused) {\n      setStatus('WAITING_OFFER');\n      setActive(0);\n      fetchData();\n    }\n  }, [isFocused]);\n\n  var setOrderStatus = function setOrderStatus(value, newStatus) {\n    setActive(value);\n    setStatus(newStatus);\n    setScreenLoader(true);\n    dispatch(getSpecialOrders(lang, newStatus, token, 'special')).then(function () {\n      return setScreenLoader(false);\n    });\n  };\n\n  function renderLoader() {\n    if (screenLoader) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  function renderNoData() {\n    if (specialOrders && specialOrders.length <= 0) {\n      return React.createElement(View, {\n        style: [styles.directionColumnCenter, styles.Width_100, {\n          height: height - 200\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/note.png\"),\n        resizeMode: 'contain',\n        style: {\n          alignSelf: 'center',\n          width: 200,\n          height: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return null;\n  }\n\n  function Item(_ref2) {\n    var name = _ref2.name,\n        image = _ref2.image,\n        date = _ref2.date,\n        orderNum = _ref2.orderNum,\n        id = _ref2.id,\n        index = _ref2.index;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(active === 0 ? 'offerPrice' : 'specialOrderDetails', {\n          orderType: active,\n          pathName: 'specialOrders',\n          id: id\n        });\n      },\n      style: [styles.borderGray, styles.marginBottom_20, styles.directionRow, styles.Radius_5, {\n        flex: 1,\n        padding: 10\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: [styles.directionRow, {\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: image\n      },\n      style: [styles.icon70, styles.Radius_7],\n      resizeMode: 'cover',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }), React.createElement(View, {\n      style: [styles.paddingHorizontal_10, {\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_black, styles.textSize_14, styles.marginBottom_10, styles.alignStart],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, name), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_midGray, styles.textSize_14],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, date))), React.createElement(View, {\n      style: [{\n        borderLeftWidth: 1,\n        borderLeftColor: '#ddd',\n        paddingLeft: 15\n      }, styles.heightFull, styles.centerContext],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_mstarda, styles.textSize_14, styles.marginBottom_5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, i18n.t('orderNum')), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_14],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, orderNum)));\n  }\n\n  return React.createElement(Container, {\n    style: [styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth, styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: i18n.t('specialOrders'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: [styles.bgFullWidth, styles.bg_White, styles.Width_100, {\n      overflow: 'hidden'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    contentContainerStyle: [styles.directionRowSpace, styles.paddingHorizontal_15, {\n      minWidth: '100%'\n    }],\n    style: [styles.scrollView, {\n      borderBottomWidth: 1,\n      borderBottomColor: '#ddd'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setOrderStatus(0, \"WAITING_OFFER\");\n    },\n    style: [styles.paddingVertical_15, styles.paddingHorizontal_15, {\n      borderBottomWidth: 2,\n      borderBottomColor: active === 0 ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textSize_12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 32\n    }\n  }, i18n.t('ordersNeedPrice'))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setOrderStatus(1, \"PROGRESS\");\n    },\n    style: [styles.paddingVertical_15, styles.paddingHorizontal_15, {\n      borderBottomWidth: 2,\n      borderBottomColor: active === 1 ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 28\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textSize_12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 32\n    }\n  }, i18n.t('orderInProgress'))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setOrderStatus(2, \"DELIVERED\");\n    },\n    style: [styles.paddingVertical_15, styles.paddingHorizontal_15, {\n      borderBottomWidth: 2,\n      borderBottomColor: active === 2 ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 28\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textSize_12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 32\n    }\n  }, i18n.t('finishedOrders'))))), React.createElement(View, {\n    style: [styles.paddingHorizontal_20, styles.marginTop_20],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, specialOrders && specialOrders.length > 0 ? React.createElement(FlatList, {\n    data: specialOrders,\n    horizontal: false,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Item, {\n        id: item.order_id,\n        name: item.provider.name,\n        image: item.provider.avatar,\n        date: item.date,\n        orderNum: item.order_id,\n        index: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 70\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  }) : renderNoData()))));\n}\n\nexport default SpecialOrders;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/SpecialOrders.js"],"names":["React","useEffect","useRef","useState","Container","Content","Icon","Input","styles","i18n","useDispatch","useSelector","getSpecialOrders","Header","COLORS","useIsFocused","height","Dimensions","get","isIOS","Platform","OS","SpecialOrders","navigation","route","active","setActive","status","setStatus","lang","state","token","auth","user","data","specialOrders","orders","screenLoader","setScreenLoader","dispatch","isFocused","fetchData","then","setOrderStatus","value","newStatus","renderLoader","loading","flexCenter","mstarda","alignSelf","renderNoData","length","directionColumnCenter","Width_100","require","width","Item","name","image","date","orderNum","id","index","navigate","orderType","pathName","borderGray","marginBottom_20","directionRow","Radius_5","flex","padding","uri","icon70","Radius_7","paddingHorizontal_10","textRegular","text_black","textSize_14","marginBottom_10","alignStart","text_midGray","borderLeftWidth","borderLeftColor","paddingLeft","heightFull","centerContext","text_mstarda","marginBottom_5","t","text_gray","bg_gray","bgFullWidth","bg_White","overflow","directionRowSpace","paddingHorizontal_15","minWidth","scrollView","borderBottomWidth","borderBottomColor","paddingVertical_15","textBold","textSize_12","paddingHorizontal_20","marginTop_20","item","order_id","provider","avatar"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {View, Text, Image, TouchableOpacity, Dimensions, FlatList, ScrollView, ActivityIndicator} from \"react-native\";\nimport {Container, Content, Icon, Input} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getSpecialOrders} from '../actions';\nimport Header from '../common/Header';\nimport COLORS from \"../consts/colors\";\nimport {useIsFocused} from \"@react-navigation/native\";\n\nconst height = Dimensions.get('window').height;\nconst isIOS = Platform.OS === 'ios';\n\nfunction SpecialOrders({navigation,route}) {\n\n    const [active, setActive] = useState(0);\n    const [status, setStatus] = useState('WAITING_OFFER');\n\n    const lang = useSelector(state => state.lang.lang);\n    const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);\n    const specialOrders = useSelector(state => state.orders.specialOrders);\n    const [screenLoader , setScreenLoader ] = useState(false);\n\n    const dispatch = useDispatch();\n    const isFocused = useIsFocused();\n\n    function fetchData(){\n        setScreenLoader(true)\n        dispatch(getSpecialOrders(lang , status, token , 'special')).then(() => setScreenLoader(false))\n    }\n\n\n\n    useEffect(() => {\n        if (isFocused) {\n            setStatus('WAITING_OFFER')\n            setActive(0)\n            fetchData();\n        }\n    }, [isFocused])\n\n    const setOrderStatus = (value, newStatus) => {\n        setActive(value)\n        setStatus(newStatus)\n        setScreenLoader(true)\n        dispatch(getSpecialOrders(lang , newStatus, token , 'special')).then(() => setScreenLoader(false))\n    }\n\n    function renderLoader(){\n        if (screenLoader){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    function renderNoData() {\n        if (specialOrders && (specialOrders).length <= 0) {\n            return (\n                <View style={[styles.directionColumnCenter , styles.Width_100, {height:height-200}]}>\n                    <Image source={require('../../assets/images/note.png')} resizeMode={'contain'}\n                           style={{alignSelf: 'center', width: 200, height: 200}}/>\n                </View>\n            );\n        }\n\n        return null\n    }\n\n    function Item({ name , image , date , orderNum , id , index }) {\n        return (\n            <TouchableOpacity onPress={() => navigation.navigate(active === 0 ? 'offerPrice' : 'specialOrderDetails', {orderType:active , pathName:'specialOrders' , id})} style={[styles.borderGray,styles.marginBottom_20 , styles.directionRow , styles.Radius_5 , {flex:1 , padding:10}]}>\n                <View style={[styles.directionRow , {flex:1}]}>\n                    <Image source={{uri:image}} style={[styles.icon70 , styles.Radius_7]} resizeMode={'cover'} />\n                    <View style={[styles.paddingHorizontal_10 , {flex:1}]}>\n                        <Text style={[styles.textRegular , styles.text_black , styles.textSize_14 , styles.marginBottom_10 , styles.alignStart]}>{ name }</Text>\n                        <Text style={[styles.textRegular , styles.text_midGray , styles.textSize_14]}>{ date }</Text>\n                    </View>\n                </View>\n                <View style={[{borderLeftWidth:1 , borderLeftColor:'#ddd' , paddingLeft:15} , styles.heightFull , styles.centerContext]}>\n                    <Text style={[styles.textRegular , styles.text_mstarda , styles.textSize_14 , styles.marginBottom_5]}>{ i18n.t('orderNum') }</Text>\n                    <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14]}>{ orderNum }</Text>\n                </View>\n            </TouchableOpacity>\n        );\n    }\n\n\n    return (\n        <Container style={[styles.bg_gray]}>\n            {renderLoader()}\n            <Content contentContainerStyle={[styles.bgFullWidth , styles.bg_gray]}>\n\n                <Header navigation={navigation} title={ i18n.t('specialOrders') } />\n\n                <View style={[styles.bgFullWidth ,styles.bg_White, styles.Width_100, {overflow:'hidden'}]}>\n\n                    <View>\n                        <ScrollView horizontal={true} showsHorizontalScrollIndicator={false} contentContainerStyle={[styles.directionRowSpace , styles.paddingHorizontal_15, {minWidth:'100%'}]} style={[styles.scrollView , {borderBottomWidth:1 , borderBottomColor:'#ddd'}]}>\n                            <TouchableOpacity onPress={() => setOrderStatus(0, \"WAITING_OFFER\")} style={[styles.paddingVertical_15 , styles.paddingHorizontal_15 , {borderBottomWidth:2 , borderBottomColor:active === 0 ? COLORS.mstarda : 'transparent'}]}>\n                               <Text style={[styles.textBold , styles.text_gray , styles.textSize_12]}>{ i18n.t('ordersNeedPrice') }</Text>\n                           </TouchableOpacity>\n                           <TouchableOpacity onPress={() => setOrderStatus(1, \"PROGRESS\")} style={[styles.paddingVertical_15 , styles.paddingHorizontal_15 , {borderBottomWidth:2 , borderBottomColor:active === 1 ? COLORS.mstarda : 'transparent'}]}>\n                               <Text style={[styles.textBold , styles.text_gray , styles.textSize_12]}>{ i18n.t('orderInProgress') }</Text>\n                           </TouchableOpacity>\n                           <TouchableOpacity onPress={() => setOrderStatus(2, \"DELIVERED\")} style={[styles.paddingVertical_15 , styles.paddingHorizontal_15 , {borderBottomWidth:2 , borderBottomColor:active === 2 ? COLORS.mstarda : 'transparent'}]}>\n                               <Text style={[styles.textBold , styles.text_gray , styles.textSize_12]}>{ i18n.t('finishedOrders') }</Text>\n                           </TouchableOpacity>\n                       </ScrollView>\n                   </View>\n\n                    <View style={[styles.paddingHorizontal_20 , styles.marginTop_20]}>\n\n                        {\n                            specialOrders && (specialOrders).length > 0?\n                                <FlatList\n                                    data={specialOrders}\n                                    horizontal={false}\n                                    showsVerticalScrollIndicator={false}\n                                    renderItem={({ item , index}) => <Item\n                                        id={item.order_id}\n                                        name={item.provider.name}\n                                        image={item.provider.avatar}\n                                        date={item.date}\n                                        orderNum={item.order_id}\n                                        index={index}\n                                    />}\n                                    keyExtractor={item => item.id}\n                                />\n                                :\n                                renderNoData()\n                        }\n\n                    </View>\n\n                </View>\n\n            </Content>\n        </Container>\n    );\n}\n\nexport default SpecialOrders;\n\n\n"]},"metadata":{},"sourceType":"module"}