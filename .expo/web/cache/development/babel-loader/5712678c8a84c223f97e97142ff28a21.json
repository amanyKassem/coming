{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/delegate/Home.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Container, Content, Icon, Input } from 'native-base';\nimport styles from \"../../../assets/styles\";\nimport i18n from \"../../../locale/i18n\";\nimport Swiper from 'react-native-swiper';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Header from \"../../common/Header\";\nimport COLORS from \"../../consts/colors\";\nimport { getDelegateOrders, updateLocation } from \"../../actions\";\nimport { useIsFocused } from \"@react-navigation/native\";\nvar height = Dimensions.get('window').height;\nvar isIOS = Platform.OS === 'ios';\n\nfunction Home(_ref) {\n  var _route$params,\n      _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var token = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data.token : null;\n  });\n  var delegateOrders = useSelector(function (state) {\n    return state.orders.delegateOrders;\n  });\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      screenLoader = _useState2[0],\n      setScreenLoader = _useState2[1];\n\n  var isFocused = useIsFocused();\n  var dispatch = useDispatch();\n\n  var fetchData = function fetchData() {\n    setScreenLoader(true);\n    dispatch(getDelegateOrders(lang, route.params ? route.params.latitude : null, route.params ? route.params.longitude : null, 'READY', token)).then(function () {\n      dispatch(updateLocation(lang, route.params ? route.params.latitude : null, route.params ? route.params.longitude : null, token));\n      setScreenLoader(false);\n    });\n  };\n\n  useEffect(function () {\n    if (isFocused) {\n      fetchData();\n    }\n  }, [isFocused, (_route$params = route.params) == null ? void 0 : _route$params.latitude]);\n\n  function Item(_ref2) {\n    var name = _ref2.name,\n        image = _ref2.image,\n        date = _ref2.date,\n        orderNum = _ref2.orderNum,\n        type = _ref2.type,\n        index = _ref2.index;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate(type === 'special' ? 'specialOrderDetails' : 'normalOrderDetails', {\n          id: orderNum\n        });\n      },\n      style: [styles.borderGray, styles.marginBottom_20, styles.directionRow, styles.Radius_5, {\n        flex: 1,\n        padding: 10\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: [styles.directionRow, {\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: image\n      },\n      style: [styles.icon60, styles.Radius_7],\n      resizeMode: 'cover',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }), React.createElement(View, {\n      style: [styles.paddingHorizontal_10, {\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_14, styles.marginBottom_5, styles.alignStart, {\n        lineHeight: 20\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, name), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_midGray, styles.textSize_14, styles.alignStart],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, date))), React.createElement(View, {\n      style: [{\n        borderLeftWidth: 1,\n        borderLeftColor: '#ddd',\n        paddingLeft: 15\n      }, styles.heightFull, styles.centerContext],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_mstarda, styles.textSize_14, styles.marginBottom_5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, i18n.t('orderNum')), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_14],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, orderNum)));\n  }\n\n  function renderLoader() {\n    if (screenLoader) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  function renderNoData() {\n    if (delegateOrders && delegateOrders.length <= 0) {\n      return React.createElement(View, {\n        style: [styles.directionColumnCenter, styles.Width_100, styles.heightFull],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../../assets/images/note.png\"),\n        resizeMode: 'contain',\n        style: {\n          alignSelf: 'center',\n          width: 200,\n          height: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return null;\n  }\n\n  return React.createElement(Container, {\n    style: [styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth, styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: i18n.t('home'),\n    delegate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: [styles.bgFullWidth, styles.bg_White, styles.Width_100, styles.paddingHorizontal_20, styles.paddingVertical_20, {\n      overflow: 'hidden'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, delegateOrders && delegateOrders.length > 0 ? React.createElement(FlatList, {\n    data: delegateOrders,\n    horizontal: false,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Item, {\n        id: item.order_id,\n        name: item.provider.name,\n        image: item.provider.avatar,\n        date: item.date,\n        orderNum: item.order_id,\n        type: item.type,\n        index: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 66\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.order_id;\n    },\n    style: [styles.marginBottom_35],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }) : renderNoData())));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/delegate/Home.js"],"names":["React","useEffect","useRef","useState","Container","Content","Icon","Input","styles","i18n","Swiper","useSelector","useDispatch","Header","COLORS","getDelegateOrders","updateLocation","useIsFocused","height","Dimensions","get","isIOS","Platform","OS","Home","navigation","route","lang","state","token","auth","user","data","delegateOrders","orders","screenLoader","setScreenLoader","isFocused","dispatch","fetchData","params","latitude","longitude","then","Item","name","image","date","orderNum","type","index","navigate","id","borderGray","marginBottom_20","directionRow","Radius_5","flex","padding","uri","icon60","Radius_7","paddingHorizontal_10","textRegular","text_gray","textSize_14","marginBottom_5","alignStart","lineHeight","text_midGray","borderLeftWidth","borderLeftColor","paddingLeft","heightFull","centerContext","text_mstarda","t","renderLoader","loading","flexCenter","mstarda","alignSelf","renderNoData","length","directionColumnCenter","Width_100","require","width","bg_gray","bgFullWidth","bg_White","paddingHorizontal_20","paddingVertical_20","overflow","item","order_id","provider","avatar","marginBottom_35"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,QAAlC,QAAiD,OAAjD;;;;;;;;;AAEA,SAAQC,SAAR,EAAmBC,OAAnB,EAA4BC,IAA5B,EAAkCC,KAAlC,QAA8C,aAA9C;AACA,OAAOC,MAAP;AACA,OAAOC,IAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,OAAOC,MAAP;AACA,OAAOC,MAAP;AACA,SAAQC,iBAAR,EAA4BC,cAA5B;AACA,SAAQC,YAAR,QAA2B,0BAA3B;AAEA,IAAMC,MAAM,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBF,MAAxC;AACA,IAAMG,KAAK,GAAGC,QAAQ,CAACC,EAAT,KAAgB,KAA9B;;AAEA,SAASC,IAAT,OAAkC;AAAA;AAAA;;AAAA,MAAnBC,UAAmB,QAAnBA,UAAmB;AAAA,MAARC,KAAQ,QAARA,KAAQ;AAG9B,MAAMC,IAAI,GAAGhB,WAAW,CAAC,UAAAiB,KAAK;AAAA,WAAIA,KAAK,CAACD,IAAN,CAAWA,IAAf;AAAA,GAAN,CAAxB;AACA,MAAME,KAAK,GAAGlB,WAAW,CAAC,UAAAiB,KAAK;AAAA,WAAIA,KAAK,CAACE,IAAN,CAAWC,IAAX,GAAkBH,KAAK,CAACE,IAAN,CAAWC,IAAX,CAAgBC,IAAhB,CAAqBH,KAAvC,GAA+C,IAAnD;AAAA,GAAN,CAAzB;AACA,MAAMI,cAAc,GAAGtB,WAAW,CAAC,UAAAiB,KAAK;AAAA,WAAIA,KAAK,CAACM,MAAN,CAAaD,cAAjB;AAAA,GAAN,CAAlC;;AAL8B,kBAMY9B,QAAQ,CAAC,IAAD,CANpB;AAAA;AAAA,MAMvBgC,YANuB;AAAA,MAMRC,eANQ;;AAS9B,MAAMC,SAAS,GAAGpB,YAAY,EAA9B;AAEA,MAAMqB,QAAQ,GAAG1B,WAAW,EAA5B;;AAGA,MAAM2B,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpBH,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAE,IAAAA,QAAQ,CAACvB,iBAAiB,CAACY,IAAD,EAAQD,KAAK,CAACc,MAAN,GAAed,KAAK,CAACc,MAAN,CAAaC,QAA5B,GAAuC,IAA/C,EAAqDf,KAAK,CAACc,MAAN,GAAed,KAAK,CAACc,MAAN,CAAaE,SAA5B,GAAwC,IAA7F,EAAmG,OAAnG,EAA6Gb,KAA7G,CAAlB,CAAR,CAA+Ic,IAA/I,CAAoJ,YAAM;AAACL,MAAAA,QAAQ,CAACtB,cAAc,CAACW,IAAD,EAAQD,KAAK,CAACc,MAAN,GAAed,KAAK,CAACc,MAAN,CAAaC,QAA5B,GAAuC,IAA/C,EAAqDf,KAAK,CAACc,MAAN,GAAed,KAAK,CAACc,MAAN,CAAaE,SAA5B,GAAwC,IAA7F,EAAoGb,KAApG,CAAf,CAAR;AAAqIO,MAAAA,eAAe,CAAC,KAAD,CAAf;AAAuB,KAAvT;AACH,GAHD;;AAKAnC,EAAAA,SAAS,CAAC,YAAM;AAEZ,QAAIoC,SAAJ,EAAe;AACXE,MAAAA,SAAS;AACZ;AACJ,GALQ,EAKN,CAACF,SAAD,mBAAaX,KAAK,CAACc,MAAnB,qBAAa,cAAcC,QAA3B,CALM,CAAT;;AAQA,WAASG,IAAT,QAAiE;AAAA,QAAjDC,IAAiD,SAAjDA,IAAiD;AAAA,QAA1CC,KAA0C,SAA1CA,KAA0C;AAAA,QAAlCC,IAAkC,SAAlCA,IAAkC;AAAA,QAA3BC,QAA2B,SAA3BA,QAA2B;AAAA,QAAhBC,IAAgB,SAAhBA,IAAgB;AAAA,QAATC,KAAS,SAATA,KAAS;AAC7D,WACI,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE;AAAA,eAAMzB,UAAU,CAAC0B,QAAX,CAAoBF,IAAI,KAAK,SAAT,GAAqB,qBAArB,GAA6C,oBAAjE,EAAwF;AAACG,UAAAA,EAAE,EAACJ;AAAJ,SAAxF,CAAN;AAAA,OAA3B;AAAyI,MAAA,KAAK,EAAE,CAACxC,MAAM,CAAC6C,UAAR,EAAmB7C,MAAM,CAAC8C,eAA1B,EAA4C9C,MAAM,CAAC+C,YAAnD,EAAkE/C,MAAM,CAACgD,QAAzE,EAAoF;AAACC,QAAAA,IAAI,EAAC,CAAN;AAAUC,QAAAA,OAAO,EAAC;AAAlB,OAApF,CAAhJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAClD,MAAM,CAAC+C,YAAR,EAAuB;AAACE,QAAAA,IAAI,EAAC;AAAN,OAAvB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE;AAACE,QAAAA,GAAG,EAACb;AAAL,OAAf;AAA4B,MAAA,KAAK,EAAE,CAACtC,MAAM,CAACoD,MAAR,EAAiBpD,MAAM,CAACqD,QAAxB,CAAnC;AAAsE,MAAA,UAAU,EAAE,OAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACrD,MAAM,CAACsD,oBAAR,EAA+B;AAACL,QAAAA,IAAI,EAAC;AAAN,OAA/B,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACjD,MAAM,CAACuD,WAAR,EAAsBvD,MAAM,CAACwD,SAA7B,EAAyCxD,MAAM,CAACyD,WAAhD,EAA8DzD,MAAM,CAAC0D,cAArE,EAAsF1D,MAAM,CAAC2D,UAA7F,EAA0G;AAACC,QAAAA,UAAU,EAAC;AAAZ,OAA1G,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0IvB,IAA1I,CADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACrC,MAAM,CAACuD,WAAR,EAAsBvD,MAAM,CAAC6D,YAA7B,EAA4C7D,MAAM,CAACyD,WAAnD,EAAiEzD,MAAM,CAAC2D,UAAxE,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoGpB,IAApG,CAFJ,CAFJ,CADJ,EAQI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAC;AAACuB,QAAAA,eAAe,EAAC,CAAjB;AAAqBC,QAAAA,eAAe,EAAC,MAArC;AAA8CC,QAAAA,WAAW,EAAC;AAA1D,OAAD,EAAiEhE,MAAM,CAACiE,UAAxE,EAAqFjE,MAAM,CAACkE,aAA5F,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAAClE,MAAM,CAACuD,WAAR,EAAsBvD,MAAM,CAACmE,YAA7B,EAA4CnE,MAAM,CAACyD,WAAnD,EAAiEzD,MAAM,CAAC0D,cAAxE,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwGzD,IAAI,CAACmE,CAAL,CAAO,UAAP,CAAxG,CADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACpE,MAAM,CAACuD,WAAR,EAAsBvD,MAAM,CAACwD,SAA7B,EAAyCxD,MAAM,CAACyD,WAAhD,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8EjB,QAA9E,CAFJ,CARJ,CADJ;AAeH;;AAED,WAAS6B,YAAT,GAAuB;AACnB,QAAI1C,YAAJ,EAAiB;AACb,aACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAAC3B,MAAM,CAACsE,OAAR,EAAiBtE,MAAM,CAACuE,UAAxB,EAAoC;AAAC7D,UAAAA,MAAM,EAAC;AAAR,SAApC,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,KAAK,EAAEJ,MAAM,CAACkE,OAA9C;AAAuD,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE;AAAb,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAKH;AACJ;;AAED,WAASC,YAAT,GAAwB;AACpB,QAAIjD,cAAc,IAAKA,cAAD,CAAiBkD,MAAjB,IAA2B,CAAjD,EAAoD;AAChD,aACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAAC3E,MAAM,CAAC4E,qBAAR,EAAgC5E,MAAM,CAAC6E,SAAvC,EAAkD7E,MAAM,CAACiE,UAAzD,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,MAAM,EAAEa,OAAO,mCAAtB;AAA2D,QAAA,UAAU,EAAE,SAAvE;AACO,QAAA,KAAK,EAAE;AAACL,UAAAA,SAAS,EAAE,QAAZ;AAAsBM,UAAAA,KAAK,EAAE,GAA7B;AAAkCrE,UAAAA,MAAM,EAAE;AAA1C,SADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAMH;;AAED,WAAO,IAAP;AACH;;AAED,SACI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE,CAACV,MAAM,CAACgF,OAAR,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKX,YAAY,EADjB,EAEI,oBAAC,OAAD;AAAS,IAAA,qBAAqB,EAAE,CAACrE,MAAM,CAACiF,WAAR,EAAsBjF,MAAM,CAACgF,OAA7B,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAE/D,UAApB;AAAgC,IAAA,KAAK,EAAGhB,IAAI,CAACmE,CAAL,CAAO,MAAP,CAAxC;AAAyD,IAAA,QAAQ,EAAE,IAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAII,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACpE,MAAM,CAACiF,WAAR,EAAqBjF,MAAM,CAACkF,QAA5B,EAAsClF,MAAM,CAAC6E,SAA7C,EAAuD7E,MAAM,CAACmF,oBAA9D,EAAqFnF,MAAM,CAACoF,kBAA5F,EAAgH;AAACC,MAAAA,QAAQ,EAAC;AAAV,KAAhH,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGQ5D,cAAc,IAAKA,cAAD,CAAiBkD,MAAjB,GAA0B,CAA5C,GAEI,oBAAC,QAAD;AACI,IAAA,IAAI,EAAElD,cADV;AAEI,IAAA,UAAU,EAAE,KAFhB;AAGI,IAAA,4BAA4B,EAAE,KAHlC;AAII,IAAA,UAAU,EAAE;AAAA,UAAG6D,IAAH,SAAGA,IAAH;AAAA,UAAU5C,KAAV,SAAUA,KAAV;AAAA,aAAqB,oBAAC,IAAD;AAC7B,QAAA,EAAE,EAAE4C,IAAI,CAACC,QADoB;AAE7B,QAAA,IAAI,EAAED,IAAI,CAACE,QAAL,CAAcnD,IAFS;AAG7B,QAAA,KAAK,EAAEiD,IAAI,CAACE,QAAL,CAAcC,MAHQ;AAI7B,QAAA,IAAI,EAAEH,IAAI,CAAC/C,IAJkB;AAK7B,QAAA,QAAQ,EAAE+C,IAAI,CAACC,QALc;AAM7B,QAAA,IAAI,EAAED,IAAI,CAAC7C,IANkB;AAO7B,QAAA,KAAK,EAAEC,KAPsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArB;AAAA,KAJhB;AAaI,IAAA,YAAY,EAAE,sBAAA4C,IAAI;AAAA,aAAIA,IAAI,CAACC,QAAT;AAAA,KAbtB;AAcI,IAAA,KAAK,EAAE,CAACvF,MAAM,CAAC0F,eAAR,CAdX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,GAmBIhB,YAAY,EAtBxB,CAJJ,CAFJ,CADJ;AAqCH;;AAED,eAAe1D,IAAf","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {View, Text, Image, TouchableOpacity, Dimensions, FlatList, I18nManager, ActivityIndicator} from \"react-native\";\nimport {Container, Content, Icon, Input} from 'native-base'\nimport styles from '../../../assets/styles'\nimport i18n from \"../../../locale/i18n\";\nimport Swiper from 'react-native-swiper';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Header from '../../common/Header';\nimport COLORS from \"../../consts/colors\";\nimport {getDelegateOrders , updateLocation} from \"../../actions\";\nimport {useIsFocused} from \"@react-navigation/native\";\n\nconst height = Dimensions.get('window').height;\nconst isIOS = Platform.OS === 'ios';\n\nfunction Home({navigation,route}) {\n\n\n    const lang = useSelector(state => state.lang.lang);\n    const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);\n    const delegateOrders = useSelector(state => state.orders.delegateOrders);\n    const [screenLoader , setScreenLoader ] = useState(true);\n\n\n    const isFocused = useIsFocused();\n\n    const dispatch = useDispatch();\n\n\n    const fetchData = () => {\n        setScreenLoader(true);\n        dispatch(getDelegateOrders(lang , route.params ? route.params.latitude : null, route.params ? route.params.longitude : null, 'READY' , token)).then(() => {dispatch(updateLocation(lang , route.params ? route.params.latitude : null, route.params ? route.params.longitude : null , token)) ; setScreenLoader(false)});\n    }\n\n    useEffect(() => {\n\n        if (isFocused) {\n            fetchData()\n        }\n    }, [isFocused , route.params?.latitude])\n\n\n    function Item({ name , image , date , orderNum , type , index }) {\n        return (\n            <TouchableOpacity onPress={() => navigation.navigate(type === 'special' ? 'specialOrderDetails' : 'normalOrderDetails' , {id:orderNum})} style={[styles.borderGray,styles.marginBottom_20 , styles.directionRow , styles.Radius_5 , {flex:1 , padding:10}]}>\n                <View style={[styles.directionRow , {flex:1}]}>\n                    <Image source={{uri:image}} style={[styles.icon60 , styles.Radius_7]} resizeMode={'cover'} />\n                    <View style={[styles.paddingHorizontal_10 , {flex:1}]}>\n                        <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14 , styles.marginBottom_5 , styles.alignStart , {lineHeight:20}]}>{name}</Text>\n                        <Text style={[styles.textRegular , styles.text_midGray , styles.textSize_14 , styles.alignStart]}>{ date }</Text>\n                    </View>\n                </View>\n                <View style={[{borderLeftWidth:1 , borderLeftColor:'#ddd' , paddingLeft:15} , styles.heightFull , styles.centerContext]}>\n                    <Text style={[styles.textRegular , styles.text_mstarda , styles.textSize_14 , styles.marginBottom_5]}>{ i18n.t('orderNum') }</Text>\n                    <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14 ]}>{ orderNum }</Text>\n                </View>\n            </TouchableOpacity>\n        );\n    }\n\n    function renderLoader(){\n        if (screenLoader){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    function renderNoData() {\n        if (delegateOrders && (delegateOrders).length <= 0) {\n            return (\n                <View style={[styles.directionColumnCenter , styles.Width_100, styles.heightFull]}>\n                    <Image source={require('../../../assets/images/note.png')} resizeMode={'contain'}\n                           style={{alignSelf: 'center', width: 200, height: 200}}/>\n                </View>\n            );\n        }\n\n        return null\n    }\n\n    return (\n        <Container style={[styles.bg_gray]}>\n            {renderLoader()}\n            <Content contentContainerStyle={[styles.bgFullWidth , styles.bg_gray]}>\n\n                <Header navigation={navigation} title={ i18n.t('home') } delegate={true}/>\n\n                <View style={[styles.bgFullWidth ,styles.bg_White, styles.Width_100,styles.paddingHorizontal_20 , styles.paddingVertical_20, {overflow:'hidden'}]}>\n\n                    {\n                        delegateOrders && (delegateOrders).length > 0?\n\n                            <FlatList\n                                data={delegateOrders}\n                                horizontal={false}\n                                showsVerticalScrollIndicator={false}\n                                renderItem={({ item , index}) => <Item\n                                    id={item.order_id}\n                                    name={item.provider.name}\n                                    image={item.provider.avatar}\n                                    date={item.date}\n                                    orderNum={item.order_id}\n                                    type={item.type}\n                                    index={index}\n                                />}\n                                keyExtractor={item => item.order_id}\n                                style={[styles.marginBottom_35]}\n                            />\n                            :\n                            renderNoData()\n                    }\n\n                </View>\n\n            </Content>\n        </Container>\n    );\n}\n\nexport default Home;\n\n\n"]},"metadata":{},"sourceType":"module"}