{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/MyOrders.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Container, Content, Icon, Input } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getOrders } from \"../actions\";\nimport Header from \"../common/Header\";\nimport COLORS from \"../consts/colors\";\nimport { useIsFocused } from \"@react-navigation/native\";\nvar height = Dimensions.get('window').height;\nvar isIOS = Platform.OS === 'ios';\n\nfunction MyOrders(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var _useState3 = useState('WAITING'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      status = _useState4[0],\n      setStatus = _useState4[1];\n\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var token = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data.token : null;\n  });\n  var orders = useSelector(function (state) {\n    return state.orders.orders;\n  });\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      screenLoader = _useState6[0],\n      setScreenLoader = _useState6[1];\n\n  var dispatch = useDispatch();\n  var isFocused = useIsFocused();\n\n  function fetchData() {\n    setStatus('WAITING');\n    setActive(0);\n    setScreenLoader(true);\n    dispatch(getOrders(lang, 'WAITING', token, 'normal')).then(function () {\n      return setScreenLoader(false);\n    });\n  }\n\n  useEffect(function () {\n    if (isFocused) {\n      fetchData();\n    }\n  }, [isFocused]);\n\n  var setOrderStatus = function setOrderStatus(value, newStatus) {\n    setActive(value);\n    setStatus(newStatus);\n    setScreenLoader(true);\n    dispatch(getOrders(lang, newStatus, token, 'normal')).then(function () {\n      return setScreenLoader(false);\n    });\n  };\n\n  function renderLoader() {\n    if (screenLoader) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  function renderNoData() {\n    if (orders && orders.length <= 0) {\n      return React.createElement(View, {\n        style: [styles.directionColumnCenter, styles.Width_100, {\n          height: height - 200\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/images/note.png\"),\n        resizeMode: 'contain',\n        style: {\n          alignSelf: 'center',\n          width: 200,\n          height: 200\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return null;\n  }\n\n  function Item(_ref2) {\n    var name = _ref2.name,\n        image = _ref2.image,\n        date = _ref2.date,\n        orderNum = _ref2.orderNum,\n        id = _ref2.id,\n        index = _ref2.index;\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('orderDetails', {\n          pathName: 'myOrders',\n          id: id\n        });\n      },\n      style: [styles.borderGray, styles.marginBottom_20, styles.directionRow, styles.Radius_5, {\n        flex: 1,\n        padding: 10\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: [styles.directionRow, {\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: image\n      },\n      style: [styles.icon60, styles.Radius_7],\n      resizeMode: 'cover',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }), React.createElement(View, {\n      style: [styles.paddingHorizontal_10, {\n        flex: 1\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_14, styles.marginBottom_5, styles.alignStart, {\n        lineHeight: 20\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, name), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_midGray, styles.textSize_14, styles.alignStart],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, date))), React.createElement(View, {\n      style: [{\n        borderLeftWidth: 1,\n        borderLeftColor: '#ddd',\n        paddingLeft: 15\n      }, styles.heightFull, styles.centerContext],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_mstarda, styles.textSize_14, styles.marginBottom_5],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, i18n.t('orderNum')), React.createElement(Text, {\n      style: [styles.textRegular, styles.text_gray, styles.textSize_14],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, orderNum)));\n  }\n\n  return React.createElement(Container, {\n    style: [styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth, styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: i18n.t('myOrders'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: [styles.bgFullWidth, styles.bg_White, styles.Width_100, {\n      overflow: 'hidden'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    contentContainerStyle: [styles.directionRowSpace, styles.paddingHorizontal_15, {\n      minWidth: '100%'\n    }],\n    style: [styles.scrollView, {\n      borderBottomWidth: 1,\n      borderBottomColor: '#ddd'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setOrderStatus(0, 'WAITING');\n    },\n    style: [styles.paddingVertical_15, styles.paddingHorizontal_15, {\n      borderBottomWidth: 2,\n      borderBottomColor: active === 0 ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textCenter, styles.textSize_13],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, i18n.t('pendingOrders'))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setOrderStatus(1, \"RUNNING\");\n    },\n    style: [styles.paddingVertical_15, styles.paddingHorizontal_15, {\n      borderBottomWidth: 2,\n      borderBottomColor: active === 1 ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textCenter, styles.textSize_13],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }, i18n.t('orderInProgress'))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setOrderStatus(2, \"DELIVERED\");\n    },\n    style: [styles.paddingVertical_15, styles.paddingHorizontal_15, {\n      borderBottomWidth: 2,\n      borderBottomColor: active === 2 ? COLORS.mstarda : 'transparent'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_gray, styles.textCenter, styles.textSize_13],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }, i18n.t('finishedOrders'))))), React.createElement(View, {\n    style: [styles.paddingHorizontal_20, styles.marginTop_20],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, orders && orders.length > 0 ? React.createElement(FlatList, {\n    data: orders,\n    horizontal: false,\n    showsVerticalScrollIndicator: false,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item,\n          index = _ref3.index;\n      return React.createElement(Item, {\n        id: item.order_id,\n        name: item.provider.name,\n        image: item.provider.avatar,\n        date: item.date,\n        orderNum: item.order_id,\n        index: index,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 70\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }) : renderNoData()))));\n}\n\nexport default MyOrders;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/MyOrders.js"],"names":["React","useEffect","useRef","useState","Container","Content","Icon","Input","styles","i18n","useDispatch","useSelector","getOrders","Header","COLORS","useIsFocused","height","Dimensions","get","isIOS","Platform","OS","MyOrders","navigation","route","active","setActive","status","setStatus","lang","state","token","auth","user","data","orders","screenLoader","setScreenLoader","dispatch","isFocused","fetchData","then","setOrderStatus","value","newStatus","renderLoader","loading","flexCenter","mstarda","alignSelf","renderNoData","length","directionColumnCenter","Width_100","require","width","Item","name","image","date","orderNum","id","index","navigate","pathName","borderGray","marginBottom_20","directionRow","Radius_5","flex","padding","uri","icon60","Radius_7","paddingHorizontal_10","textRegular","text_gray","textSize_14","marginBottom_5","alignStart","lineHeight","text_midGray","borderLeftWidth","borderLeftColor","paddingLeft","heightFull","centerContext","text_mstarda","t","bg_gray","bgFullWidth","bg_White","overflow","directionRowSpace","paddingHorizontal_15","minWidth","scrollView","borderBottomWidth","borderBottomColor","paddingVertical_15","textBold","textCenter","textSize_13","paddingHorizontal_20","marginTop_20","item","order_id","provider","avatar"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity,\n    Dimensions,\n    FlatList,\n    I18nManager,\n    ScrollView,\n    ActivityIndicator\n} from \"react-native\";\nimport {Container, Content, Icon, Input} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getOrders} from '../actions';\nimport Header from '../common/Header';\nimport COLORS from \"../consts/colors\";\nimport {useIsFocused} from \"@react-navigation/native\";\n\nconst height = Dimensions.get('window').height;\nconst isIOS = Platform.OS === 'ios';\n\nfunction MyOrders({navigation,route}) {\n\n    const [active, setActive] = useState(0);\n    const [status, setStatus] = useState('WAITING');\n\n    const lang = useSelector(state => state.lang.lang);\n    const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);\n    const orders = useSelector(state => state.orders.orders);\n    const [screenLoader , setScreenLoader ] = useState(false);\n\n    const dispatch = useDispatch();\n    const isFocused = useIsFocused();\n\n    function fetchData(){\n        setStatus('WAITING');\n        setActive(0);\n        setScreenLoader(true);\n        dispatch(getOrders(lang , 'WAITING', token , 'normal')).then(() => setScreenLoader(false))\n    }\n\n    useEffect(() => {\n        if (isFocused) {\n            fetchData();\n        }\n    }, [isFocused])\n\n    const setOrderStatus = (value, newStatus) => {\n        setActive(value)\n        setStatus(newStatus)\n        setScreenLoader(true)\n        dispatch(getOrders(lang , newStatus, token ,'normal')).then(() => setScreenLoader(false))\n    }\n\n    function renderLoader(){\n        if (screenLoader){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    function renderNoData() {\n        if (orders && (orders).length <= 0) {\n            return (\n                <View style={[styles.directionColumnCenter , styles.Width_100, {height:height-200}]}>\n                    <Image source={require('../../assets/images/note.png')} resizeMode={'contain'}\n                           style={{alignSelf: 'center', width: 200, height: 200}}/>\n                </View>\n            );\n        }\n\n        return null\n    }\n\n    function Item({ name , image , date , orderNum , id , index }) {\n        return (\n            <TouchableOpacity onPress={() => navigation.navigate('orderDetails', {pathName:'myOrders' , id})} style={[styles.borderGray,styles.marginBottom_20 , styles.directionRow , styles.Radius_5 , {flex:1 , padding:10}]}>\n                <View style={[styles.directionRow , {flex:1}]}>\n                    <Image source={{uri:image}} style={[styles.icon60 , styles.Radius_7]} resizeMode={'cover'} />\n                    <View style={[styles.paddingHorizontal_10 , {flex:1}]}>\n                        <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14 , styles.marginBottom_5 , styles.alignStart , {lineHeight:20}]}>{ name}</Text>\n                        <Text style={[styles.textRegular , styles.text_midGray , styles.textSize_14 , styles.alignStart]}>{ date }</Text>\n                    </View>\n                </View>\n                <View style={[{borderLeftWidth:1 , borderLeftColor:'#ddd' , paddingLeft:15} , styles.heightFull , styles.centerContext]}>\n                    <Text style={[styles.textRegular , styles.text_mstarda , styles.textSize_14 , styles.marginBottom_5]}>{ i18n.t('orderNum') }</Text>\n                    <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14 ]}>{ orderNum }</Text>\n                </View>\n            </TouchableOpacity>\n        );\n    }\n\n\n    return (\n        <Container style={[styles.bg_gray]}>\n            {\n                renderLoader()\n            }\n            <Content contentContainerStyle={[styles.bgFullWidth , styles.bg_gray]}>\n\n                <Header navigation={navigation} title={ i18n.t('myOrders') } />\n\n                <View style={[styles.bgFullWidth ,styles.bg_White, styles.Width_100, {overflow:'hidden'}]}>\n\n                    <View>\n                        <ScrollView horizontal={true} showsHorizontalScrollIndicator={false} contentContainerStyle={[styles.directionRowSpace , styles.paddingHorizontal_15, {minWidth:'100%'}]} style={[styles.scrollView , {borderBottomWidth:1 , borderBottomColor:'#ddd'}]}>\n                            <TouchableOpacity onPress={() => setOrderStatus(0 , 'WAITING')} style={[styles.paddingVertical_15, styles.paddingHorizontal_15 , {borderBottomWidth:2 , borderBottomColor:active === 0 ? COLORS.mstarda : 'transparent'}]}>\n                                <Text style={[styles.textBold , styles.text_gray, styles.textCenter , styles.textSize_13]}>{ i18n.t('pendingOrders') }</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity onPress={() => setOrderStatus(1, \"RUNNING\")} style={[styles.paddingVertical_15 , styles.paddingHorizontal_15 , {borderBottomWidth:2 , borderBottomColor:active === 1 ? COLORS.mstarda : 'transparent'}]}>\n                                <Text style={[styles.textBold , styles.text_gray , styles.textCenter , styles.textSize_13]}>{ i18n.t('orderInProgress') }</Text>\n                            </TouchableOpacity>\n                            <TouchableOpacity onPress={() => setOrderStatus(2, \"DELIVERED\")} style={[styles.paddingVertical_15 , styles.paddingHorizontal_15 , {borderBottomWidth:2 , borderBottomColor:active === 2 ? COLORS.mstarda : 'transparent'}]}>\n                                <Text style={[styles.textBold , styles.text_gray , styles.textCenter , styles.textSize_13]}>{ i18n.t('finishedOrders') }</Text>\n                            </TouchableOpacity>\n                        </ScrollView>\n                    </View>\n\n                    <View style={[styles.paddingHorizontal_20 , styles.marginTop_20]}>\n\n                        {\n                            orders && (orders).length > 0?\n                                <FlatList\n                                    data={orders}\n                                    horizontal={false}\n                                    showsVerticalScrollIndicator={false}\n                                    renderItem={({ item , index}) => <Item\n                                        id={item.order_id}\n                                        name={item.provider.name}\n                                        image={item.provider.avatar}\n                                        date={item.date}\n                                        orderNum={item.order_id}\n                                        index={index}\n                                    />}\n                                    keyExtractor={item => item.id}\n                                />\n                                :\n                                renderNoData()\n                        }\n\n                    </View>\n\n                </View>\n\n            </Content>\n        </Container>\n    );\n}\n\nexport default MyOrders;\n\n\n"]},"metadata":{},"sourceType":"module"}