{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/Profile.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Container, Content, Form, Icon, Input, Item, Label, Toast } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport Header from \"../common/Header\";\nimport COLORS from \"../consts/colors\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permissions from 'expo-permissions';\nimport Modal from \"react-native-modal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { profile, updateProfile, changePass } from \"../actions\";\nvar height = Dimensions.get('window').height;\nvar isIOS = Platform.OS === 'ios';\n\nfunction Profile(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var token = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data.token : null;\n  });\n  var user = useSelector(function (state) {\n    return state.auth.user ? state.auth.user.data : {};\n  });\n  var userData = useSelector(function (state) {\n    return state.profile.user;\n  });\n  var userDataLoader = useSelector(function (state) {\n    return state.profile.loader;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isSubmitted = _useState2[0],\n      setIsSubmitted = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      screenLoader = _useState4[0],\n      setScreenLoader = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      base64 = _useState6[0],\n      setBase64 = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      userImage = _useState8[0],\n      setUserImage = _useState8[1];\n\n  var _useState9 = useState(user.name),\n      _useState10 = _slicedToArray(_useState9, 2),\n      username = _useState10[0],\n      setUsername = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      editName = _useState12[0],\n      setEditName = _useState12[1];\n\n  var _useState13 = useState(user.phone),\n      _useState14 = _slicedToArray(_useState13, 2),\n      phone = _useState14[0],\n      setPhone = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      editPhone = _useState16[0],\n      setEditPhone = _useState16[1];\n\n  var _useState17 = useState(user.email),\n      _useState18 = _slicedToArray(_useState17, 2),\n      mail = _useState18[0],\n      setMail = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      editMail = _useState20[0],\n      setEditMail = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      showModal = _useState22[0],\n      setShowModal = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      password = _useState24[0],\n      setPassword = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      showPass = _useState26[0],\n      setShowPass = _useState26[1];\n\n  var _useState27 = useState(''),\n      _useState28 = _slicedToArray(_useState27, 2),\n      newpass = _useState28[0],\n      setNewpass = _useState28[1];\n\n  var _useState29 = useState(false),\n      _useState30 = _slicedToArray(_useState29, 2),\n      showNewPass = _useState30[0],\n      setShowNewPass = _useState30[1];\n\n  var _useState31 = useState(''),\n      _useState32 = _slicedToArray(_useState31, 2),\n      confirmNewPass = _useState32[0],\n      setConfirmNewPass = _useState32[1];\n\n  var _useState33 = useState(false),\n      _useState34 = _slicedToArray(_useState33, 2),\n      showConPass = _useState34[0],\n      setShowConPass = _useState34[1];\n\n  var dispatch = useDispatch();\n\n  function fetchData() {\n    setScreenLoader(true);\n    dispatch(profile(lang, token)).then(function () {\n      setScreenLoader(false);\n    });\n  }\n\n  useEffect(function () {\n    fetchData();\n    var unsubscribe = navigation.addListener('focus', function () {\n      fetchData();\n    });\n    return unsubscribe;\n  }, [navigation, userDataLoader]);\n\n  function renderLoader() {\n    if (screenLoader) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  function toggleModal() {\n    setShowModal(!showModal);\n  }\n\n  ;\n\n  var askPermissionsAsync = function askPermissionsAsync() {\n    return _regeneratorRuntime.async(function askPermissionsAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n\n          case 2:\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var _pickImage = function _pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function _pickImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            askPermissionsAsync();\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              allowsEditing: true,\n              aspect: [4, 3],\n              base64: true\n            }));\n\n          case 3:\n            result = _context2.sent;\n\n            if (!result.cancelled) {\n              setUserImage(result.uri);\n              setBase64(result.base64);\n            }\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function renderSubmit() {\n    if (phone == '' || username == '' || mail == '') {\n      return React.createElement(View, {\n        style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_20, {\n          backgroundColor: '#ddd'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: [styles.textBold, styles.text_gray, styles.textSize_15],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }, i18n.t('confirm')));\n    }\n\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return onConfirm();\n      },\n      style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_20],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: [styles.textBold, styles.text_White, styles.textSize_15],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, i18n.t('confirm')));\n  }\n\n  function onConfirm() {\n    setScreenLoader(true);\n    dispatch(updateProfile(lang, username, phone, mail, base64, token)).then(function () {\n      setScreenLoader(false);\n      setUserImage(null);\n    });\n  }\n\n  function renderSubmitPass() {\n    if (isSubmitted) {\n      return React.createElement(View, {\n        style: [{\n          justifyContent: 'center',\n          alignItems: 'center'\n        }, styles.marginTop_10, styles.marginBottom_10],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    if (password == '' || newpass == '' || confirmNewPass == '') {\n      return React.createElement(View, {\n        style: [styles.mstrdaBtn, styles.Width_100, styles.marginTop_10, styles.marginBottom_10, {\n          backgroundColor: '#ddd'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: [styles.textBold, styles.text_gray, styles.textSize_15],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, i18n.t('confirm')));\n    }\n\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return onConfirmPass();\n      },\n      style: [styles.mstrdaBtn, styles.Width_100, styles.marginTop_10, styles.marginBottom_10],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: [styles.textBold, styles.text_White, styles.textSize_15],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, i18n.t('confirm')));\n  }\n\n  function onConfirmPass() {\n    if (newpass.length < 6) {\n      Toast.show({\n        text: i18n.t('passreq'),\n        type: \"danger\",\n        duration: 3000,\n        textStyle: {\n          color: \"white\",\n          fontFamily: 'cairo',\n          textAlign: 'center'\n        }\n      });\n      return false;\n    } else if (newpass !== confirmNewPass) {\n      Toast.show({\n        text: i18n.t('passError'),\n        type: \"danger\",\n        duration: 3000,\n        textStyle: {\n          color: \"white\",\n          fontFamily: 'cairo',\n          textAlign: 'center'\n        }\n      });\n      return false;\n    } else {\n      setIsSubmitted(true);\n      dispatch(changePass(lang, password, newpass, token)).then(function () {\n        setIsSubmitted(false);\n        setShowModal(false);\n      });\n    }\n  }\n\n  return React.createElement(Container, {\n    style: [styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth, styles.bg_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    title: i18n.t('profile'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }), userData ? React.createElement(View, {\n    style: [styles.bgFullWidth, styles.bg_White, styles.Width_100, styles.paddingHorizontal_20, {\n      overflow: 'hidden',\n      paddingBottom: 70\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: [styles.directionColumnCenter, styles.marginTop_35],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 29\n    }\n  }, React.createElement(View, {\n    style: [styles.icon70, styles.Radius_50, styles.borderGray, styles.marginBottom_7, {\n      padding: 7\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 33\n    }\n  }, React.createElement(Image, {\n    source: userImage ? {\n      uri: userImage\n    } : {\n      uri: userData.avatar\n    },\n    style: [styles.Width_100, styles.heightFull, styles.Radius_50],\n    resizeMode: \"cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 37\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: _pickImage,\n    style: {\n      position: 'absolute',\n      bottom: 0,\n      zIndex: 1,\n      right: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 37\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/images/camera.png\"),\n    style: [styles.icon25],\n    resizeMode: \"contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 41\n    }\n  }))), React.createElement(Text, {\n    style: [styles.textRegular, styles.text_mstarda, styles.textSize_15, styles.marginBottom_5],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 33\n    }\n  }, username)), React.createElement(KeyboardAvoidingView, {\n    style: [styles.Width_100, styles.marginTop_35, styles.marginBottom_25],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 29\n    }\n  }, React.createElement(Form, {\n    style: [styles.Width_100, styles.flexCenter],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 33\n    }\n  }, React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 41\n    }\n  }, i18n.t('username')), React.createElement(Input, {\n    style: [styles.input, {\n      borderTopRightRadius: 25,\n      borderTopLeftRadius: 25,\n      borderColor: username ? COLORS.mstarda : '#eee',\n      borderWidth: 1,\n      backgroundColor: username ? '#fff' : '#eee'\n    }],\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    value: username,\n    editable: editName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 41\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setEditName(!editName);\n    },\n    style: {\n      position: 'absolute',\n      right: 10,\n      bottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 41\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/images/edit_orange.png\"),\n    style: [styles.icon25],\n    resizeMode: \"contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 45\n    }\n  }))), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 41\n    }\n  }, i18n.t('phone')), React.createElement(Input, {\n    style: [styles.input, {\n      borderTopRightRadius: 25,\n      borderTopLeftRadius: 25,\n      borderColor: phone ? COLORS.mstarda : '#eee',\n      borderWidth: 1,\n      backgroundColor: phone ? '#fff' : '#eee'\n    }],\n    onChangeText: function onChangeText(phone) {\n      return setPhone(phone);\n    },\n    value: phone,\n    keyboardType: 'number-pad',\n    editable: editPhone,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 41\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setEditPhone(!editPhone);\n    },\n    style: {\n      position: 'absolute',\n      right: 10,\n      bottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 41\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/images/edit_orange.png\"),\n    style: [styles.icon25],\n    resizeMode: \"contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 45\n    }\n  }))), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 41\n    }\n  }, i18n.t('mail')), React.createElement(Input, {\n    style: [styles.input, {\n      borderTopRightRadius: 25,\n      borderTopLeftRadius: 25,\n      borderColor: mail ? COLORS.mstarda : '#eee',\n      borderWidth: 1,\n      backgroundColor: mail ? '#fff' : '#eee'\n    }],\n    onChangeText: function onChangeText(mail) {\n      return setMail(mail);\n    },\n    value: mail,\n    keyboardType: 'email-address',\n    editable: editMail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 41\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setEditMail(!editMail);\n    },\n    style: {\n      position: 'absolute',\n      right: 10,\n      bottom: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 41\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/images/edit_orange.png\"),\n    style: [styles.icon25],\n    resizeMode: \"contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 45\n    }\n  }))))), React.createElement(TouchableOpacity, {\n    onPress: toggleModal,\n    style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_10],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_White, styles.textSize_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 33\n    }\n  }, i18n.t('changePass'))), renderSubmit()) : null, React.createElement(Modal, {\n    onBackdropPress: toggleModal,\n    onBackButtonPress: toggleModal,\n    isVisible: showModal,\n    style: styles.bgModel,\n    avoidKeyboard: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: [styles.bg_White, styles.overHidden, styles.Width_100, styles.flexCenter, {\n      borderTopStartRadius: 5,\n      borderTopEndRadius: 5\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: [styles.bg_mstarda, styles.Width_100, styles.paddingVertical_15, styles.centerContext],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: [styles.textBold, styles.text_White, styles.textSize_15],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 29\n    }\n  }, i18n.t('changePass'))), React.createElement(Form, {\n    style: [styles.Width_100, styles.paddingVertical_25, styles.paddingHorizontal_15, styles.flexCenter],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 25\n    }\n  }, React.createElement(Item, {\n    style: [styles.item, styles.height_80],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 29\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 33\n    }\n  }, i18n.t('currentPassword')), React.createElement(Input, {\n    style: [styles.input, {\n      borderTopRightRadius: 25,\n      borderTopLeftRadius: 25,\n      borderColor: password ? COLORS.mstarda : '#eee',\n      borderWidth: 1,\n      backgroundColor: password ? '#fff' : '#eee'\n    }],\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    value: password,\n    secureTextEntry: !showPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 33\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowPass(!showPass);\n    },\n    style: [{\n      position: 'absolute',\n      right: 10,\n      bottom: 13\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 33\n    }\n  }, React.createElement(Icon, {\n    type: 'FontAwesome',\n    name: showPass ? \"eye-slash\" : \"eye\",\n    style: [styles.textSize_18, styles.text_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 37\n    }\n  }))), React.createElement(Item, {\n    style: [styles.item, styles.height_80],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 29\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 33\n    }\n  }, i18n.t('newpass')), React.createElement(Input, {\n    style: [styles.input, {\n      borderTopRightRadius: 25,\n      borderTopLeftRadius: 25,\n      borderColor: newpass ? COLORS.mstarda : '#eee',\n      borderWidth: 1,\n      backgroundColor: newpass ? '#fff' : '#eee'\n    }],\n    onChangeText: function onChangeText(newpass) {\n      return setNewpass(newpass);\n    },\n    value: newpass,\n    secureTextEntry: !showNewPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 33\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowNewPass(!showNewPass);\n    },\n    style: [{\n      position: 'absolute',\n      right: 10,\n      bottom: 13\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 33\n    }\n  }, React.createElement(Icon, {\n    type: 'FontAwesome',\n    name: showNewPass ? \"eye-slash\" : \"eye\",\n    style: [styles.textSize_18, styles.text_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 37\n    }\n  }))), React.createElement(Item, {\n    style: [styles.item, styles.height_80],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 29\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 33\n    }\n  }, i18n.t('confirmNewPass')), React.createElement(Input, {\n    style: [styles.input, {\n      borderTopRightRadius: 25,\n      borderTopLeftRadius: 25,\n      borderColor: confirmNewPass ? COLORS.mstarda : '#eee',\n      borderWidth: 1,\n      backgroundColor: confirmNewPass ? '#fff' : '#eee'\n    }],\n    onChangeText: function onChangeText(confirmNewPass) {\n      return setConfirmNewPass(confirmNewPass);\n    },\n    value: confirmNewPass,\n    secureTextEntry: !showConPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 33\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowConPass(!showConPass);\n    },\n    style: [{\n      position: 'absolute',\n      right: 10,\n      bottom: 13\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 33\n    }\n  }, React.createElement(Icon, {\n    type: 'FontAwesome',\n    name: showConPass ? \"eye-slash\" : \"eye\",\n    style: [styles.textSize_18, styles.text_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 37\n    }\n  }))), renderSubmitPass())))));\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/Profile.js"],"names":["React","useEffect","useRef","useState","Container","Content","Form","Icon","Input","Item","Label","Toast","styles","i18n","Header","COLORS","ImagePicker","Permissions","Modal","useSelector","useDispatch","profile","updateProfile","changePass","height","Dimensions","get","isIOS","Platform","OS","Profile","navigation","route","lang","state","token","auth","user","data","userData","userDataLoader","loader","isSubmitted","setIsSubmitted","screenLoader","setScreenLoader","base64","setBase64","userImage","setUserImage","name","username","setUsername","editName","setEditName","phone","setPhone","editPhone","setEditPhone","email","mail","setMail","editMail","setEditMail","showModal","setShowModal","password","setPassword","showPass","setShowPass","newpass","setNewpass","showNewPass","setShowNewPass","confirmNewPass","setConfirmNewPass","showConPass","setShowConPass","dispatch","fetchData","then","unsubscribe","addListener","renderLoader","loading","flexCenter","mstarda","alignSelf","toggleModal","askPermissionsAsync","askAsync","CAMERA","CAMERA_ROLL","_pickImage","launchImageLibraryAsync","allowsEditing","aspect","result","cancelled","uri","renderSubmit","mstrdaBtn","Width_100","marginBottom_20","backgroundColor","textBold","text_gray","textSize_15","t","onConfirm","text_White","renderSubmitPass","justifyContent","alignItems","marginTop_10","marginBottom_10","onConfirmPass","length","show","text","type","duration","textStyle","color","fontFamily","textAlign","bg_gray","bgFullWidth","bg_White","paddingHorizontal_20","overflow","paddingBottom","directionColumnCenter","marginTop_35","icon70","Radius_50","borderGray","marginBottom_7","padding","avatar","heightFull","position","bottom","zIndex","right","require","icon25","textRegular","text_mstarda","marginBottom_5","marginBottom_25","item","label","input","borderTopRightRadius","borderTopLeftRadius","borderColor","borderWidth","bgModel","overHidden","borderTopStartRadius","borderTopEndRadius","bg_mstarda","paddingVertical_15","centerContext","paddingVertical_25","paddingHorizontal_15","height_80","textSize_18"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity,\n    Dimensions,\n    I18nManager,\n    KeyboardAvoidingView, ActivityIndicator\n} from \"react-native\";\nimport {Container, Content, Form, Icon, Input, Item, Label , Toast} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport Header from '../common/Header';\nimport COLORS from \"../consts/colors\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permissions from 'expo-permissions';\nimport  Modal  from \"react-native-modal\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport {profile, updateProfile , changePass} from \"../actions\";\n\nconst height = Dimensions.get('window').height;\nconst isIOS = Platform.OS === 'ios';\n\nfunction Profile({navigation,route}) {\n\n    const lang = useSelector(state => state.lang.lang);\n    const token = useSelector(state => state.auth.user ? state.auth.user.data.token : null);\n    const user = useSelector(state =>  state.auth.user ? state.auth.user.data : {});\n\n    const userData = useSelector(state => state.profile.user);\n    const userDataLoader = useSelector(state => state.profile.loader);\n    const [isSubmitted, setIsSubmitted] = useState(false);\n    const [screenLoader , setScreenLoader ] = useState(true);\n\n    const [base64, setBase64] = useState(null);\n    const [userImage, setUserImage] = useState(\"\");\n\n    const [username, setUsername] = useState(user.name);\n    const [editName, setEditName] = useState(false);\n\n    const [phone, setPhone] = useState(user.phone);\n    const [editPhone, setEditPhone] = useState(false);\n\n    const [mail, setMail] = useState(user.email);\n    const [editMail, setEditMail] = useState(false);\n\n    const [showModal, setShowModal] = useState(false);\n\n\n    const [password, setPassword] = useState('');\n    const [showPass, setShowPass] = useState(false);\n    const [newpass, setNewpass] = useState('');\n    const [showNewPass, setShowNewPass] = useState(false);\n    const [confirmNewPass, setConfirmNewPass] = useState('');\n    const [showConPass, setShowConPass] = useState(false);\n\n\n    const dispatch = useDispatch();\n\n    function fetchData(){\n        setScreenLoader(true)\n        dispatch(profile(lang, token)).then(() => {setScreenLoader(false)});\n    }\n\n    useEffect(() => {\n        fetchData();\n        const unsubscribe = navigation.addListener('focus', () => {\n            fetchData();\n        });\n        return unsubscribe;\n    }, [navigation , userDataLoader]);\n\n\n    function renderLoader(){\n        if (screenLoader){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    function toggleModal () {\n        setShowModal(!showModal);\n    };\n\n    const askPermissionsAsync = async () => {\n        await Permissions.askAsync(Permissions.CAMERA);\n        await Permissions.askAsync(Permissions.CAMERA_ROLL);\n\n    };\n\n    const _pickImage = async () => {\n\n        askPermissionsAsync();\n\n        let result = await ImagePicker.launchImageLibraryAsync({\n            allowsEditing: true,\n            aspect: [4, 3],\n            base64: true\n        });\n\n        if (!result.cancelled) {\n            setUserImage(result.uri);\n            setBase64(result.base64);\n        }\n    };\n\n    function renderSubmit() {\n        if (phone == '' || username == '' || mail == '') {\n            return (\n                <View\n                    style={[styles.mstrdaBtn , styles.Width_100  , styles.marginBottom_20 , {\n                        backgroundColor:'#ddd'\n                    }]}\n                >\n                    <Text style={[styles.textBold , styles.text_gray , styles.textSize_15]}>{ i18n.t('confirm') }</Text>\n                </View>\n            );\n        }\n\n        return (\n            <TouchableOpacity\n                onPress={() => onConfirm()} style={[styles.mstrdaBtn , styles.Width_100 , styles.marginBottom_20 ]}>\n                <Text style={[styles.textBold , styles.text_White , styles.textSize_15]}>{ i18n.t('confirm') }</Text>\n            </TouchableOpacity>\n        );\n    }\n\n    function onConfirm() {\n        setScreenLoader(true);\n        dispatch(updateProfile(lang , username , phone ,mail , base64 , token)).then(() => {setScreenLoader(false) ; setUserImage(null)});\n    }\n\n    function renderSubmitPass() {\n\n        if (isSubmitted){\n            return(\n                <View style={[{ justifyContent: 'center', alignItems: 'center' } , styles.marginTop_10, styles.marginBottom_10]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            )\n        }\n\n        if (password == '' || newpass == '' || confirmNewPass == '') {\n            return (\n                <View\n                    style={[styles.mstrdaBtn , styles.Width_100  , styles.marginTop_10 , styles.marginBottom_10 , {\n                        backgroundColor:'#ddd'\n                    }]}\n                >\n                    <Text style={[styles.textBold , styles.text_gray , styles.textSize_15]}>{ i18n.t('confirm') }</Text>\n                </View>\n            );\n        }\n\n        return (\n            <TouchableOpacity\n                onPress={() => onConfirmPass()} style={[styles.mstrdaBtn , styles.Width_100 , styles.marginTop_10 , styles.marginBottom_10 ]}>\n                <Text style={[styles.textBold , styles.text_White , styles.textSize_15]}>{ i18n.t('confirm') }</Text>\n            </TouchableOpacity>\n        );\n    }\n\n    function onConfirmPass() {\n\n        if (newpass.length < 6){\n            Toast.show({\n                text        : i18n.t('passreq'),\n                type        : \"danger\",\n                duration    : 3000,\n                textStyle   : {\n                    color       : \"white\",\n                    fontFamily  : 'cairo',\n                    textAlign   : 'center'\n                }\n            });\n            return false\n        }else if(newpass !== confirmNewPass){\n            Toast.show({\n                text        : i18n.t('passError'),\n                type        : \"danger\",\n                duration    : 3000,\n                textStyle   : {\n                    color       : \"white\",\n                    fontFamily  : 'cairo',\n                    textAlign   : 'center'\n                }\n            });\n            return false\n        } else {\n            setIsSubmitted(true);\n            dispatch(changePass(lang , password , newpass , token)).then(() => {setIsSubmitted(false) ; setShowModal(false)});\n        }\n\n    }\n\n    return (\n        <Container style={[styles.bg_gray]}>\n            {renderLoader()}\n            <Content contentContainerStyle={[styles.bgFullWidth , styles.bg_gray]}>\n\n                <Header navigation={navigation} title={ i18n.t('profile') } />\n\n                {\n                    userData ?\n                        <View style={[styles.bgFullWidth ,styles.bg_White, styles.Width_100,styles.paddingHorizontal_20, {overflow:'hidden' , paddingBottom:70}]}>\n\n                            <View style={[styles.directionColumnCenter , styles.marginTop_35]}>\n                                <View style={[styles.icon70 , styles.Radius_50 , styles.borderGray , styles.marginBottom_7 ,{ padding: 7 }]}>\n                                    <Image source= {userImage? {uri:userImage} : {uri:userData.avatar}} style={[styles.Width_100 , styles.heightFull , styles.Radius_50]} resizeMode='cover' />\n                                    <TouchableOpacity onPress={_pickImage} style={{position:'absolute' , bottom:0 , zIndex:1 , right:0}}>\n                                        <Image source={require('../../assets/images/camera.png')} style={[styles.icon25]} resizeMode='contain' />\n                                    </TouchableOpacity>\n                                </View>\n                                <Text style={[styles.textRegular , styles.text_mstarda , styles.textSize_15 , styles.marginBottom_5]}>{username}</Text>\n                            </View>\n\n                            <KeyboardAvoidingView style={[styles.Width_100 , styles.marginTop_35 , styles.marginBottom_25]}>\n                                <Form style={[styles.Width_100 , styles.flexCenter]}>\n\n                                    <Item style={[styles.item]}>\n                                        <Label style={[styles.label]}>{ i18n.t('username') }</Label>\n                                        <Input style={[styles.input , {borderTopRightRadius :25 ,borderTopLeftRadius :25 , borderColor:username ? COLORS.mstarda : '#eee', borderWidth:1 , backgroundColor:username ? '#fff' : '#eee'}]}\n                                               onChangeText={(username) => setUsername(username)}\n                                               value={username}\n                                               editable={editName}\n                                        />\n                                        <TouchableOpacity onPress={() =>setEditName(!editName)} style={{position:'absolute' , right:10 , bottom:10}}>\n                                            <Image source={require('../../assets/images/edit_orange.png')} style={[styles.icon25]} resizeMode='contain' />\n                                        </TouchableOpacity>\n                                    </Item>\n\n                                    <Item style={[styles.item]}>\n                                        <Label style={[styles.label]}>{ i18n.t('phone') }</Label>\n                                        <Input style={[styles.input , {borderTopRightRadius :25 ,borderTopLeftRadius :25 , borderColor:phone ? COLORS.mstarda : '#eee', borderWidth:1 , backgroundColor:phone ? '#fff' : '#eee'}]}\n                                               onChangeText={(phone) => setPhone(phone)}\n                                               value={phone}\n                                               keyboardType={'number-pad'}\n                                               editable={editPhone}\n                                        />\n                                        <TouchableOpacity onPress={() =>setEditPhone(!editPhone)} style={{position:'absolute' , right:10 , bottom:10}}>\n                                            <Image source={require('../../assets/images/edit_orange.png')} style={[styles.icon25]} resizeMode='contain' />\n                                        </TouchableOpacity>\n                                    </Item>\n\n                                    <Item style={[styles.item]}>\n                                        <Label style={[styles.label]}>{ i18n.t('mail') }</Label>\n                                        <Input style={[styles.input , {borderTopRightRadius :25 ,borderTopLeftRadius :25 , borderColor:mail ? COLORS.mstarda : '#eee', borderWidth:1 , backgroundColor:mail ? '#fff' : '#eee'}]}\n                                               onChangeText={(mail) => setMail(mail)}\n                                               value={mail}\n                                               keyboardType={'email-address'}\n                                               editable={editMail}\n                                        />\n                                        <TouchableOpacity onPress={() =>setEditMail(!editMail)} style={{position:'absolute' , right:10 , bottom:10}}>\n                                            <Image source={require('../../assets/images/edit_orange.png')} style={[styles.icon25]} resizeMode='contain' />\n                                        </TouchableOpacity>\n                                    </Item>\n\n                                </Form>\n                            </KeyboardAvoidingView>\n\n                            <TouchableOpacity onPress={toggleModal} style={[styles.mstrdaBtn , styles.Width_100 , styles.marginBottom_10 ]}>\n                                <Text style={[styles.textBold , styles.text_White , styles.textSize_15]}>{ i18n.t('changePass') }</Text>\n                            </TouchableOpacity>\n\n                            {renderSubmit()}\n\n                        </View>\n                        :\n                        null\n                }\n\n                <Modal\n                    onBackdropPress                 ={toggleModal}\n                    onBackButtonPress               = {toggleModal}\n                    isVisible                       = {showModal}\n                    style                           = {styles.bgModel}\n                    avoidKeyboard                    = {true}\n                >\n\n                    <View style={[styles.bg_White, styles.overHidden, styles.Width_100, styles.flexCenter , {borderTopStartRadius:5 , borderTopEndRadius:5}]}>\n\n                        <View style={[styles.bg_mstarda , styles.Width_100 , styles.paddingVertical_15 , styles.centerContext]}>\n                            <Text style={[styles.textBold , styles.text_White , styles.textSize_15]}>{ i18n.t('changePass') }</Text>\n                        </View>\n\n                        <Form style={[styles.Width_100 , styles.paddingVertical_25 , styles.paddingHorizontal_15 , styles.flexCenter]}>\n\n                            <Item style={[styles.item , styles.height_80]}>\n                                <Label style={[styles.label]}>{ i18n.t('currentPassword') }</Label>\n                                <Input style={[styles.input , {borderTopRightRadius :25 ,borderTopLeftRadius :25, borderColor:password ? COLORS.mstarda : '#eee', borderWidth:1 , backgroundColor:password ? '#fff' : '#eee'}]}\n                                       onChangeText={(password) => setPassword(password)}\n                                       value={password}\n                                       secureTextEntry={!showPass}\n                                />\n                                <TouchableOpacity onPress={() => setShowPass(!showPass)} style={[{position:'absolute' , right:10  , bottom:13}]}>\n                                    <Icon type={'FontAwesome'} name={showPass ? \"eye-slash\" : \"eye\"}\n                                          style={[styles.textSize_18,styles.text_gray]} />\n                                </TouchableOpacity>\n                            </Item>\n\n                            <Item style={[styles.item , styles.height_80]}>\n                                <Label style={[styles.label]}>{ i18n.t('newpass') }</Label>\n                                <Input style={[styles.input , {borderTopRightRadius :25 ,borderTopLeftRadius :25, borderColor:newpass ? COLORS.mstarda : '#eee', borderWidth:1 , backgroundColor:newpass ? '#fff' : '#eee'}]}\n                                       onChangeText={(newpass) => setNewpass(newpass)}\n                                       value={newpass}\n                                       secureTextEntry={!showNewPass}\n                                />\n                                <TouchableOpacity onPress={() => setShowNewPass(!showNewPass)} style={[{position:'absolute' , right:10  , bottom:13}]}>\n                                    <Icon type={'FontAwesome'} name={showNewPass ? \"eye-slash\" : \"eye\"}\n                                          style={[styles.textSize_18,styles.text_gray]} />\n                                </TouchableOpacity>\n                            </Item>\n\n                            <Item style={[styles.item , styles.height_80]}>\n                                <Label style={[styles.label]}>{ i18n.t('confirmNewPass') }</Label>\n                                <Input style={[styles.input , {borderTopRightRadius :25 ,borderTopLeftRadius :25, borderColor:confirmNewPass ? COLORS.mstarda : '#eee', borderWidth:1 , backgroundColor:confirmNewPass ? '#fff' : '#eee'}]}\n                                       onChangeText={(confirmNewPass) => setConfirmNewPass(confirmNewPass)}\n                                       value={confirmNewPass}\n                                       secureTextEntry={!showConPass}\n                                />\n                                <TouchableOpacity onPress={() => setShowConPass(!showConPass)} style={[{position:'absolute' , right:10  , bottom:13}]}>\n                                    <Icon type={'FontAwesome'} name={showConPass ? \"eye-slash\" : \"eye\"}\n                                          style={[styles.textSize_18,styles.text_gray]} />\n                                </TouchableOpacity>\n                            </Item>\n\n                            {renderSubmitPass()}\n\n                        </Form>\n\n                    </View>\n\n                </Modal>\n            </Content>\n        </Container>\n    );\n}\n\nexport default Profile;\n\n\n"]},"metadata":{},"sourceType":"module"}