{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/ChangePass.js\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Container, Content, Form, Icon, Input, Item, Label, Toast } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { checkPhone, resetPassword } from \"../actions\";\nimport COLORS from \"../consts/colors\";\nimport AuthHeader from \"../common/AuthHeader\";\nvar isIOS = Platform.OS === 'ios';\n\nfunction ChangePass(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n  var dispatch = useDispatch();\n  var token = route.params.token;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      spinner = _useState2[0],\n      setSpinner = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      code = _useState4[0],\n      setCode = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newpass = _useState6[0],\n      setNewpass = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showPass = _useState8[0],\n      setShowPass = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      confirmNewPass = _useState10[0],\n      setConfirmNewPass = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showConPass = _useState12[0],\n      setShowConPass = _useState12[1];\n\n  function renderSubmit() {\n    if (code == '' || newpass == '' || confirmNewPass == '') {\n      return React.createElement(View, {\n        style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_35, {\n          backgroundColor: '#ddd'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: [styles.textRegular, styles.text_gray, styles.textSize_15],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }\n      }, i18n.t('send')));\n    }\n\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return passReco();\n      },\n      style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_35],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_White, styles.textSize_15],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, i18n.t('send')));\n  }\n\n  function passReco() {\n    if (confirmNewPass.length < 6) {\n      Toast.show({\n        text: i18n.t('passreq'),\n        type: \"danger\",\n        duration: 3000,\n        textStyle: {\n          color: \"white\",\n          fontFamily: 'flatRegular',\n          textAlign: 'center'\n        }\n      });\n      return false;\n    } else if (newpass !== confirmNewPass) {\n      Toast.show({\n        text: i18n.t('passError'),\n        type: \"danger\",\n        duration: 3000,\n        textStyle: {\n          color: \"white\",\n          fontFamily: 'flatRegular',\n          textAlign: 'center'\n        }\n      });\n      return false;\n    } else {\n      setSpinner(true);\n      dispatch(resetPassword(newpass, code, token, lang, navigation)).then(function () {\n        return setSpinner(false);\n      });\n    }\n  }\n\n  function renderLoader() {\n    if (spinner) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  return React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(ImageBackground, {\n    source: require(\"../../assets/images/splash_bg.png\"),\n    resizeMode: 'cover',\n    style: styles.imageBackground,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: [styles.bgFullWidth, styles.Width_100],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, React.createElement(AuthHeader, {\n    navigation: navigation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }), React.createElement(Text, {\n    style: [styles.textBold, styles.text_mstarda, styles.textSize_18, styles.SelfCenter, styles.marginBottom_25],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, i18n.t('PassReco')), React.createElement(View, {\n    style: [styles.directionRowSpace, styles.paddingHorizontal_25],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: [styles.Width_100],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }, React.createElement(Form, {\n    style: [styles.Width_100, styles.flexCenter],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  }, React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 41\n    }\n  }, i18n.t('code')), React.createElement(Input, {\n    style: [styles.input],\n    onChangeText: function onChangeText(code) {\n      return setCode(code);\n    },\n    keyboardType: 'number-pad',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 41\n    }\n  })), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 41\n    }\n  }, i18n.t('newpass')), React.createElement(Input, {\n    style: [styles.input, {\n      paddingRight: 35\n    }],\n    onChangeText: function onChangeText(newpass) {\n      return setNewpass(newpass);\n    },\n    secureTextEntry: !showPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 41\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowPass(!showPass);\n    },\n    style: [{\n      position: 'absolute',\n      right: 10,\n      bottom: 13\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 41\n    }\n  }, React.createElement(Icon, {\n    type: 'FontAwesome',\n    name: showPass ? \"eye-slash\" : \"eye\",\n    style: [styles.textSize_18, styles.text_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 45\n    }\n  }))), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 41\n    }\n  }, i18n.t('confirmNewPass')), React.createElement(Input, {\n    style: [styles.input, {\n      paddingRight: 35\n    }],\n    onChangeText: function onChangeText(confirmNewPass) {\n      return setConfirmNewPass(confirmNewPass);\n    },\n    secureTextEntry: !showConPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 41\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowConPass(!showConPass);\n    },\n    style: [{\n      position: 'absolute',\n      right: 10,\n      bottom: 13\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  }, React.createElement(Icon, {\n    type: 'FontAwesome',\n    name: showConPass ? \"eye-slash\" : \"eye\",\n    style: [styles.textSize_18, styles.text_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 45\n    }\n  }))), renderSubmit())))))));\n}\n\nexport default ChangePass;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/ChangePass.js"],"names":["React","useState","useEffect","AsyncStorage","Container","Content","Form","Icon","Input","Item","Label","Toast","styles","i18n","useDispatch","useSelector","checkPhone","resetPassword","COLORS","AuthHeader","isIOS","Platform","OS","ChangePass","navigation","route","lang","state","dispatch","token","params","spinner","setSpinner","code","setCode","newpass","setNewpass","showPass","setShowPass","confirmNewPass","setConfirmNewPass","showConPass","setShowConPass","renderSubmit","mstrdaBtn","Width_100","marginBottom_35","backgroundColor","textRegular","text_gray","textSize_15","t","passReco","text_White","length","show","text","type","duration","textStyle","color","fontFamily","textAlign","then","renderLoader","loading","flexCenter","height","mstarda","alignSelf","require","imageBackground","bgFullWidth","textBold","text_mstarda","textSize_18","SelfCenter","marginBottom_25","directionRowSpace","paddingHorizontal_25","item","label","input","paddingRight","position","right","bottom"],"mappings":"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","sourcesContent":["import React, { useState , useEffect } from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity,\n    KeyboardAvoidingView,\n    AsyncStorage,\n    ActivityIndicator,\n    Platform,\n    ImageBackground\n} from \"react-native\";\nimport {Container, Content, Form, Icon, Input, Item, Label, Toast} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {checkPhone, resetPassword} from \"../actions\";\nimport COLORS from \"../consts/colors\";\nimport AuthHeader from \"../common/AuthHeader\";\n\n\nconst isIOS = Platform.OS === 'ios';\n\nfunction ChangePass({navigation , route}) {\n\n    const lang      = useSelector(state => state.lang.lang);\n    const dispatch  = useDispatch();\n    const { token }                     = route.params;\n    const [spinner, setSpinner] = useState(false);\n\n    const [code, setCode] = useState('');\n    const [newpass, setNewpass] = useState('');\n    const [showPass, setShowPass] = useState(false);\n    const [confirmNewPass, setConfirmNewPass] = useState('');\n    const [showConPass, setShowConPass] = useState(false);\n\n    function renderSubmit() {\n        if (code == '' || newpass == '' || confirmNewPass == '') {\n            return (\n                <View\n                    style={[styles.mstrdaBtn , styles.Width_100  , styles.marginBottom_35 , {\n                        backgroundColor:'#ddd'\n                    }]}\n                >\n                    <Text style={[styles.textRegular , styles.text_gray , styles.textSize_15]}>{ i18n.t('send') }</Text>\n                </View>\n            );\n        }\n\n        return (\n            <TouchableOpacity\n                onPress={() => passReco()} style={[styles.mstrdaBtn , styles.Width_100 , styles.marginBottom_35]}>\n                <Text style={[styles.textRegular , styles.text_White , styles.textSize_15]}>{ i18n.t('send') }</Text>\n            </TouchableOpacity>\n        );\n    }\n\n    function passReco() {\n        if (confirmNewPass.length < 6) {\n            Toast.show({\n                text: i18n.t('passreq'),\n                type: \"danger\",\n                duration: 3000,\n                textStyle: {\n                    color: \"white\",\n                    fontFamily: 'flatRegular',\n                    textAlign: 'center'\n                }\n            });\n            return false\n        } else if (newpass !== confirmNewPass) {\n            Toast.show({\n                text: i18n.t('passError'),\n                type: \"danger\",\n                duration: 3000,\n                textStyle: {\n                    color: \"white\",\n                    fontFamily: 'flatRegular',\n                    textAlign: 'center'\n                }\n            });\n            return false\n        } else {\n            setSpinner(true);\n            dispatch(resetPassword(newpass , code , token, lang, navigation)).then(() => setSpinner(false));\n        }\n    }\n\n    function renderLoader(){\n        if (spinner){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n    return (\n        <Container >\n            {renderLoader()}\n            <ImageBackground source={require('../../assets/images/splash_bg.png')} resizeMode={'cover'} style={styles.imageBackground}>\n                <Content contentContainerStyle={[styles.bgFullWidth]}>\n                    <View style={[styles.bgFullWidth, styles.Width_100]}>\n\n\n                        <AuthHeader navigation={navigation}/>\n\n                        <Text style={[styles.textBold , styles.text_mstarda , styles.textSize_18 ,styles.SelfCenter , styles.marginBottom_25]}>{ i18n.t('PassReco') }</Text>\n\n                        <View style={[styles.directionRowSpace , styles.paddingHorizontal_25]}>\n                            <KeyboardAvoidingView style={[styles.Width_100]}>\n                                <Form style={[styles.Width_100 , styles.flexCenter]}>\n\n                                    <Item style={[styles.item]}>\n                                        <Label style={[styles.label]}>{ i18n.t('code') }</Label>\n                                        <Input style={[styles.input]}\n                                               onChangeText={(code) => setCode(code)}\n                                               keyboardType={'number-pad'}\n                                        />\n\n                                    </Item>\n\n                                    <Item style={[styles.item]}>\n                                        <Label style={[styles.label]}>{ i18n.t('newpass') }</Label>\n                                        <Input style={[styles.input , {paddingRight:35}]}\n                                               onChangeText={(newpass) => setNewpass(newpass)}\n                                               secureTextEntry={!showPass}\n                                        />\n                                        <TouchableOpacity onPress={() => setShowPass(!showPass)} style={[{position:'absolute' , right:10  , bottom:13}]}>\n                                            <Icon type={'FontAwesome'} name={showPass ? \"eye-slash\" : \"eye\"}\n                                                  style={[styles.textSize_18,styles.text_gray]} />\n                                        </TouchableOpacity>\n                                    </Item>\n\n                                    <Item style={[styles.item]}>\n                                        <Label style={[styles.label]}>{ i18n.t('confirmNewPass') }</Label>\n                                        <Input style={[styles.input , {paddingRight:35}]}\n                                               onChangeText={(confirmNewPass) => setConfirmNewPass(confirmNewPass)}\n                                               secureTextEntry={!showConPass}\n                                        />\n                                        <TouchableOpacity onPress={() => setShowConPass(!showConPass)} style={[{position:'absolute' , right:10  , bottom:13}]}>\n                                            <Icon type={'FontAwesome'} name={showConPass ? \"eye-slash\" : \"eye\"}\n                                                  style={[styles.textSize_18,styles.text_gray]} />\n                                        </TouchableOpacity>\n                                    </Item>\n\n                                    {renderSubmit()}\n\n                                </Form>\n                            </KeyboardAvoidingView>\n                        </View>\n\n                    </View>\n                </Content>\n            </ImageBackground>\n        </Container>\n    );\n}\n\nexport default ChangePass;\n\n\n"]},"metadata":{},"sourceType":"module"}