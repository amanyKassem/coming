{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/Register.js\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { CheckBox, Container, Content, Form, Icon, Input, Item, Label, Toast } from 'native-base';\nimport styles from \"../../assets/styles\";\nimport i18n from \"../../locale/i18n\";\nimport COLORS from \"../consts/colors\";\nimport AuthHeader from \"../common/AuthHeader\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { checkPhone, register } from \"../actions\";\nimport { WebView } from 'react-native-webview';\nvar isIOS = Platform.OS === 'ios';\n\nfunction Register(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var lang = useSelector(function (state) {\n    return state.lang.lang;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      spinner = _useState2[0],\n      setSpinner = _useState2[1];\n\n  var userType = route.params.userType;\n  var dispatch = useDispatch();\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      phone = _useState4[0],\n      setPhone = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      username = _useState6[0],\n      setUsername = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      mail = _useState8[0],\n      setMail = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      password = _useState10[0],\n      setPassword = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      showPass = _useState12[0],\n      setShowPass = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isChecked = _useState14[0],\n      setIsChecked = _useState14[1];\n\n  function _onLoad(state, navigation) {\n    console.log(state.url);\n  }\n\n  var validate = function validate() {\n    var isError = false;\n    var msg = '';\n\n    if (username.length <= 0) {\n      isError = true;\n      msg = i18n.t('name');\n    } else if (phone.length <= 0 || phone.length !== 10) {\n      isError = true;\n      msg = i18n.t('phoneValidation');\n    } else if (phone.length <= 0) {\n      isError = true;\n      msg = i18n.t('namereq');\n    } else if (password.length < 6) {\n      isError = true;\n      msg = i18n.t('passreq');\n    }\n\n    if (msg !== '') {\n      Toast.show({\n        text: msg,\n        type: \"danger\",\n        duration: 3000,\n        textStyle: {\n          color: \"white\",\n          fontFamily: 'cairo',\n          textAlign: 'center'\n        }\n      });\n    }\n\n    return isError;\n  };\n\n  function renderSubmit() {\n    if (phone == '' || username == '' || mail == '' || password == '' || !isChecked) {\n      return React.createElement(View, {\n        style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_10, {\n          backgroundColor: '#ddd'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: [styles.textRegular, styles.text_gray, styles.textSize_15],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }, i18n.t('createAcc')));\n    }\n\n    return React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return onConfirm();\n      },\n      style: [styles.mstrdaBtn, styles.Width_100, styles.marginBottom_10],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: [styles.textRegular, styles.text_White, styles.textSize_15],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }\n    }, i18n.t('createAcc')));\n  }\n\n  function onConfirm() {\n    var err = validate();\n\n    if (!err) {\n      setSpinner(true);\n      var data = {\n        username: username,\n        phone: phone,\n        mail: mail,\n        password: password,\n        userType: userType,\n        lang: lang\n      };\n      dispatch(register(data, navigation)).then(function () {\n        return setSpinner(false);\n      });\n    }\n  }\n\n  function renderLoader() {\n    if (spinner) {\n      return React.createElement(View, {\n        style: [styles.loading, styles.flexCenter, {\n          height: '100%'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: COLORS.mstarda,\n        style: {\n          alignSelf: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }));\n    }\n  }\n\n  return React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, renderLoader(), React.createElement(ImageBackground, {\n    source: require(\"../../assets/images/splash_bg.png\"),\n    resizeMode: 'cover',\n    style: styles.imageBackground,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, React.createElement(Content, {\n    contentContainerStyle: [styles.bgFullWidth],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: [styles.bgFullWidth, styles.Width_100],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, userType == 2 ? React.createElement(React.Fragment, null, React.createElement(AuthHeader, {\n    navigation: navigation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }), React.createElement(Text, {\n    style: [styles.textBold, styles.text_mstarda, styles.textSize_18, styles.SelfCenter, styles.marginBottom_25],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }, i18n.t('createAcc')), React.createElement(View, {\n    style: [styles.directionRowSpace, styles.paddingHorizontal_25],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 37\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: [styles.Width_100],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }, React.createElement(Form, {\n    style: [styles.Width_100, styles.flexCenter],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 41\n    }\n  }, React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 45\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 49\n    }\n  }, i18n.t('username')), React.createElement(Input, {\n    style: [styles.input],\n    onChangeText: function onChangeText(username) {\n      return setUsername(username);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 49\n    }\n  })), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 45\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 49\n    }\n  }, i18n.t('phone')), React.createElement(Input, {\n    style: [styles.input],\n    onChangeText: function onChangeText(phone) {\n      return setPhone(phone);\n    },\n    keyboardType: 'number-pad',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 49\n    }\n  })), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 45\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 49\n    }\n  }, i18n.t('mail')), React.createElement(Input, {\n    style: [styles.input],\n    onChangeText: function onChangeText(mail) {\n      return setMail(mail);\n    },\n    keyboardType: 'email-address',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 49\n    }\n  })), React.createElement(Item, {\n    style: [styles.item],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  }, React.createElement(Label, {\n    style: [styles.label],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 49\n    }\n  }, i18n.t('password')), React.createElement(Input, {\n    style: [styles.input, {\n      paddingRight: 35\n    }],\n    onChangeText: function onChangeText(password) {\n      return setPassword(password);\n    },\n    secureTextEntry: !showPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 49\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setShowPass(!showPass);\n    },\n    style: [{\n      position: 'absolute',\n      right: 10,\n      bottom: 13\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 49\n    }\n  }, React.createElement(Icon, {\n    type: 'FontAwesome',\n    name: showPass ? \"eye-slash\" : \"eye\",\n    style: [styles.textSize_18, styles.text_gray],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 53\n    }\n  }))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setIsChecked(!isChecked);\n    },\n    style: [styles.marginBottom_25, styles.directionRowCenter, styles.alignStart],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 45\n    }\n  }, React.createElement(CheckBox, {\n    style: [styles.checkBox],\n    onPress: function onPress() {\n      return setIsChecked(!isChecked);\n    },\n    checked: isChecked,\n    color: COLORS.mstarda,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 49\n    }\n  }), React.createElement(View, {\n    style: [styles.directionRow],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 49\n    }\n  }, React.createElement(Text, {\n    style: [styles.textRegular, styles.text_gray, styles.textSize_12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 53\n    }\n  }, i18n.t('agreeTo')), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('terms');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 53\n    }\n  }, React.createElement(Text, {\n    style: [styles.textRegular, styles.textDecoration, styles.text_mstarda, styles.textSize_12],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 57\n    }\n  }, i18n.t('terms'))))), renderSubmit(), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('login');\n    },\n    style: [styles.marginTop_10, styles.marginBottom_30, styles.directionRow],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 45\n    }\n  }, React.createElement(Text, {\n    style: [styles.textRegular, styles.text_gray, styles.textSize_14, {\n      marginRight: 5\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 49\n    }\n  }, i18n.t('haveAcc')), React.createElement(Text, {\n    style: [styles.textRegular, styles.text_mstarda, styles.textSize_14],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 49\n    }\n  }, i18n.t('clickHere'))))))) : React.createElement(WebView, {\n    source: {\n      uri: 'https://ahlalbalad.aait-sa.com/backend/register-delegate/' + lang\n    },\n    style: {\n      flex: 1,\n      width: '100%',\n      height: '100%'\n    },\n    domStorageEnabled: true,\n    startInLoadingState: true,\n    scalesPageToFit: false,\n    scrollEnabled: true,\n    javaScriptEnabled: true,\n    onNavigationStateChange: function onNavigationStateChange(state) {\n      return _onLoad(state, navigation);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 33\n    }\n  })))));\n}\n\nexport default Register;","map":{"version":3,"sources":["/Users/ahmedtaha/Documents/work/react/amany/Archive/src/components/Register.js"],"names":["React","useState","useEffect","CheckBox","Container","Content","Form","Icon","Input","Item","Label","Toast","styles","i18n","COLORS","AuthHeader","useDispatch","useSelector","checkPhone","register","WebView","isIOS","Platform","OS","Register","navigation","route","lang","state","spinner","setSpinner","userType","params","dispatch","phone","setPhone","username","setUsername","mail","setMail","password","setPassword","showPass","setShowPass","isChecked","setIsChecked","_onLoad","console","log","url","validate","isError","msg","length","t","show","text","type","duration","textStyle","color","fontFamily","textAlign","renderSubmit","mstrdaBtn","Width_100","marginBottom_10","backgroundColor","textRegular","text_gray","textSize_15","onConfirm","text_White","err","data","then","renderLoader","loading","flexCenter","height","mstarda","alignSelf","require","imageBackground","bgFullWidth","textBold","text_mstarda","textSize_18","SelfCenter","marginBottom_25","directionRowSpace","paddingHorizontal_25","item","label","input","paddingRight","position","right","bottom","directionRowCenter","alignStart","checkBox","directionRow","textSize_12","navigate","textDecoration","marginTop_10","marginBottom_30","textSize_14","marginRight","uri","flex","width"],"mappings":"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","sourcesContent":["import React, { useState , useEffect } from \"react\";\nimport {\n    View,\n    Text,\n    Image,\n    TouchableOpacity,\n    KeyboardAvoidingView,\n    I18nManager,\n    ActivityIndicator,\n    Platform,\n    ImageBackground\n} from \"react-native\";\nimport {CheckBox, Container, Content, Form, Icon, Input, Item, Label, Toast} from 'native-base'\nimport styles from '../../assets/styles'\nimport i18n from \"../../locale/i18n\";\nimport COLORS from \"../consts/colors\";\nimport AuthHeader from \"../common/AuthHeader\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {checkPhone, register} from \"../actions\";\nimport { WebView } from 'react-native-webview';\n\n\nconst isIOS = Platform.OS === 'ios';\n\nfunction Register({navigation , route}) {\n\n    const lang = useSelector(state => state.lang.lang);\n    const [spinner, setSpinner] = useState(false);\n\n    const userType = route.params.userType;\n    const dispatch = useDispatch();\n\n\n    const [phone, setPhone] = useState('');\n    const [username, setUsername] = useState('');\n    const [mail, setMail] = useState('');\n    const [password, setPassword] = useState('');\n    const [showPass, setShowPass] = useState(false);\n    const [isChecked, setIsChecked] = useState(false);\n\n\n    function _onLoad(state, navigation) {\n        console.log(state.url);\n    }\n\n\n    const validate = () => {\n        let isError         = false;\n        let msg             = '';\n\n        if (username.length <= 0) {\n            isError     = true;\n            msg         = i18n.t('name');\n        } else if (phone.length <= 0 || phone.length !== 10) {\n            isError     = true;\n            msg         = i18n.t('phoneValidation');\n        } else if (phone.length <= 0) {\n            isError     = true;\n            msg         = i18n.t('namereq');\n        } else if (password.length < 6){\n            isError     = true;\n            msg         = i18n.t('passreq');\n        }\n\n        if (msg !== '') {\n            Toast.show({\n                text        : msg,\n                type        : \"danger\",\n                duration    : 3000,\n                textStyle   \t: {\n                    color       \t: \"white\",\n                    fontFamily  \t: 'cairo',\n                    textAlign   \t: 'center'\n                }\n            });\n        }\n\n        return isError;\n    };\n\n\n    function renderSubmit() {\n        if (phone == '' || username == '' || mail == '' || password == '' || !isChecked) {\n            return (\n                <View\n                    style={[styles.mstrdaBtn , styles.Width_100  , styles.marginBottom_10 , {\n                        backgroundColor:'#ddd'\n                    }]}\n                >\n                    <Text style={[styles.textRegular , styles.text_gray , styles.textSize_15]}>{ i18n.t('createAcc') }</Text>\n                </View>\n            );\n        }\n\n        return (\n            <TouchableOpacity\n                onPress={() => onConfirm()} style={[styles.mstrdaBtn , styles.Width_100 , styles.marginBottom_10]}>\n                <Text style={[styles.textRegular , styles.text_White , styles.textSize_15]}>{ i18n.t('createAcc') }</Text>\n            </TouchableOpacity>\n        );\n    }\n\n    function onConfirm() {\n        const err = validate();\n\n        if (!err){\n            setSpinner(true);\n            const data = { username, phone, mail, password , userType, lang };\n            dispatch(register(data, navigation)).then(() => setSpinner(false));\n        }\n    }\n\n    function renderLoader(){\n        if (spinner){\n            return(\n                <View style={[styles.loading, styles.flexCenter, {height:'100%'}]}>\n                    <ActivityIndicator size=\"large\" color={COLORS.mstarda} style={{ alignSelf: 'center' }} />\n                </View>\n            );\n        }\n    }\n\n\n    return (\n        <Container >\n            {renderLoader()}\n            <ImageBackground source={require('../../assets/images/splash_bg.png')} resizeMode={'cover'} style={styles.imageBackground}>\n                <Content contentContainerStyle={[styles.bgFullWidth]}>\n                    <View style={[styles.bgFullWidth, styles.Width_100]}>\n\n                        {\n                            userType == 2 ?\n                                <>\n                                    <AuthHeader navigation={navigation}/>\n\n                                    <Text style={[styles.textBold , styles.text_mstarda , styles.textSize_18 ,styles.SelfCenter , styles.marginBottom_25]}>{ i18n.t('createAcc') }</Text>\n\n                                    <View style={[styles.directionRowSpace , styles.paddingHorizontal_25]}>\n                                    <KeyboardAvoidingView style={[styles.Width_100]}>\n                                        <Form style={[styles.Width_100 , styles.flexCenter]}>\n\n                                            <Item style={[styles.item]}>\n                                                <Label style={[styles.label]}>{ i18n.t('username') }</Label>\n                                                <Input style={[styles.input]}\n                                                       onChangeText={(username) => setUsername(username)}\n                                                />\n\n                                            </Item>\n\n                                            <Item style={[styles.item]}>\n                                                <Label style={[styles.label]}>{ i18n.t('phone') }</Label>\n                                                <Input style={[styles.input]}\n                                                       onChangeText={(phone) => setPhone(phone)}\n                                                       keyboardType={'number-pad'}\n                                                />\n\n                                            </Item>\n\n                                            <Item style={[styles.item]}>\n                                                <Label style={[styles.label]}>{ i18n.t('mail') }</Label>\n                                                <Input style={[styles.input]}\n                                                       onChangeText={(mail) => setMail(mail)}\n                                                       keyboardType={'email-address'}\n                                                />\n\n                                            </Item>\n\n\n                                            <Item style={[styles.item]}>\n                                                <Label style={[styles.label]}>{ i18n.t('password') }</Label>\n                                                <Input style={[styles.input , {paddingRight:35}]}\n                                                       onChangeText={(password) => setPassword(password)}\n                                                       secureTextEntry={!showPass}\n                                                />\n                                                <TouchableOpacity onPress={() => setShowPass(!showPass)} style={[{position:'absolute' , right:10  , bottom:13}]}>\n                                                    <Icon type={'FontAwesome'} name={showPass ? \"eye-slash\" : \"eye\"}\n                                                          style={[styles.textSize_18,styles.text_gray]} />\n                                                </TouchableOpacity>\n                                            </Item>\n\n                                            <TouchableOpacity onPress={() => setIsChecked(!isChecked)} style={[styles.marginBottom_25 , styles.directionRowCenter, styles.alignStart]}>\n                                                <CheckBox style={[styles.checkBox]} onPress={() => setIsChecked(!isChecked)} checked={isChecked} color={COLORS.mstarda}/>\n                                                <View style={[styles.directionRow]}>\n                                                    <Text style={[styles.textRegular , styles.text_gray , styles.textSize_12]}>\n                                                        { i18n.t('agreeTo') }\n                                                    </Text>\n                                                    <TouchableOpacity onPress={() => navigation.navigate('terms')}>\n                                                        <Text style={[styles.textRegular ,styles.textDecoration , styles.text_mstarda, styles.textSize_12 ]}>{ i18n.t('terms') }</Text>\n                                                    </TouchableOpacity>\n                                                </View>\n                                            </TouchableOpacity>\n\n                                            {renderSubmit()}\n\n                                            <TouchableOpacity onPress={() => navigation.navigate('login')} style={[styles.marginTop_10 , styles.marginBottom_30 , styles.directionRow]}>\n                                                <Text style={[styles.textRegular , styles.text_gray , styles.textSize_14 , {marginRight:5}]}>{ i18n.t('haveAcc') }</Text>\n                                                <Text style={[styles.textRegular , styles.text_mstarda , styles.textSize_14]}>{ i18n.t('clickHere') }</Text>\n                                            </TouchableOpacity>\n\n                                        </Form>\n                                    </KeyboardAvoidingView>\n                                </View>\n                                </>\n                                :\n                                <WebView\n                                    source = {{uri: 'https://ahlalbalad.aait-sa.com/backend/register-delegate/'+ lang}}\n                                    style  = {{flex:1 , width:'100%' , height:'100%'}}\n                                    domStorageEnabled={true}\n                                    startInLoadingState={true}\n                                    scalesPageToFit={false}\n                                    scrollEnabled={true}\n                                    javaScriptEnabled={true}\n                                    onNavigationStateChange={(state) => _onLoad(state, navigation)}\n                                />\n                        }\n\n\n\n                    </View>\n                </Content>\n            </ImageBackground>\n        </Container>\n    );\n}\n\nexport default Register;\n\n\n"]},"metadata":{},"sourceType":"module"}